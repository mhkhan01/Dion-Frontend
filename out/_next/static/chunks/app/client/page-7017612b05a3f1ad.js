(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[394],{9141:function(e,t,a){Promise.resolve().then(a.bind(a,5668))},9376:function(e,t,a){"use strict";var s=a(5475);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}}),a.o(s,"useSearchParams")&&a.d(t,{useSearchParams:function(){return s.useSearchParams}})},4601:function(){},8975:function(e,t,a){"use strict";var s=a(257);a(4601);var n=a(2265),r=n&&"object"==typeof n&&"default"in n?n:{default:n},o=void 0!==s&&s.env&&!0,i=function(e){return"[object String]"===Object.prototype.toString.call(e)},l=function(){function e(e){var t=void 0===e?{}:e,a=t.name,s=void 0===a?"stylesheet":a,n=t.optimizeForSpeed,r=void 0===n?o:n;c(i(s),"`name` must be a string"),this._name=s,this._deletedRulePlaceholder="#"+s+"-deleted-rule____{}",c("boolean"==typeof r,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=r,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var l="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=l?l.getAttribute("content"):null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){c("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),c(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;if(c(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(o||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,a){return"number"==typeof a?e._serverSheet.cssRules[a]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),a},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){if(c(i(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var a=this.getSheet();"number"!=typeof t&&(t=a.cssRules.length);try{a.insertRule(e,t)}catch(t){return o||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var s=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,s))}return this._rulesCount++},t.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var a="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!a.cssRules[e])return e;a.deleteRule(e);try{a.insertRule(t,e)}catch(s){o||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),a.insertRule(this._deletedRulePlaceholder,e)}}else{var s=this._tags[e];c(s,"old rule at index `"+e+"` not found"),s.textContent=t}return e},t.deleteRule=function(e){if("undefined"==typeof window){this._serverSheet.deleteRule(e);return}if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];c(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},t.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},t.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,a){return a?t=t.concat(Array.prototype.map.call(e.getSheetForTag(a).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},t.makeStyleTag=function(e,t,a){t&&c(i(t),"makeStyleTag accepts only strings as second parameter");var s=document.createElement("style");this._nonce&&s.setAttribute("nonce",this._nonce),s.type="text/css",s.setAttribute("data-"+e,""),t&&s.appendChild(document.createTextNode(t));var n=document.head||document.getElementsByTagName("head")[0];return a?n.insertBefore(s,a):n.appendChild(s),s},function(e,t){for(var a=0;a<t.length;a++){var s=t[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function c(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var d=function(e){for(var t=5381,a=e.length;a;)t=33*t^e.charCodeAt(--a);return t>>>0},m={};function u(e,t){if(!t)return"jsx-"+e;var a=String(t),s=e+a;return m[s]||(m[s]="jsx-"+d(e+"-"+a)),m[s]}function f(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var a=e+t;return m[a]||(m[a]=t.replace(/__jsx-style-dynamic-selector/g,e)),m[a]}var x=function(){function e(e){var t=void 0===e?{}:e,a=t.styleSheet,s=void 0===a?null:a,n=t.optimizeForSpeed,r=void 0!==n&&n;this._sheet=s||new l({name:"styled-jsx",optimizeForSpeed:r}),this._sheet.inject(),s&&"boolean"==typeof r&&(this._sheet.setOptimizeForSpeed(r),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var a=this.getIdAndRules(e),s=a.styleId,n=a.rules;if(s in this._instancesCounts){this._instancesCounts[s]+=1;return}var r=n.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[s]=r,this._instancesCounts[s]=1},t.remove=function(e){var t=this,a=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(a in this._instancesCounts,"styleId: `"+a+"` not found"),this._instancesCounts[a]-=1,this._instancesCounts[a]<1){var s=this._fromServer&&this._fromServer[a];s?(s.parentNode.removeChild(s),delete this._fromServer[a]):(this._indices[a].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[a]),delete this._instancesCounts[a]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],a=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return a[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,a;return t=this.cssRules(),void 0===(a=e)&&(a={}),t.map(function(e){var t=e[0],s=e[1];return r.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:a.nonce?a.nonce:void 0,dangerouslySetInnerHTML:{__html:s}})})},t.getIdAndRules=function(e){var t=e.children,a=e.dynamic,s=e.id;if(a){var n=u(s,a);return{styleId:n,rules:Array.isArray(t)?t.map(function(e){return f(n,e)}):[f(n,t)]}}return{styleId:u(s),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),p=n.createContext(null);p.displayName="StyleSheetContext";var h=r.default.useInsertionEffect||r.default.useLayoutEffect,g="undefined"!=typeof window?new x:void 0;function b(e){var t=g||n.useContext(p);return t&&("undefined"==typeof window?t.add(e):h(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}b.dynamic=function(e){return e.map(function(e){return u(e[0],e[1])}).join(" ")},t.style=b},29:function(e,t,a){"use strict";e.exports=a(8975).style},5668:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var s=a(7437),n=a(29),r=a.n(n),o=a(2265),i=a(7766),l=a(9376),c=a(5526),d=a(8422);function m(e){let{isOpen:t,onClose:a,editingBookingRequestId:n=null,onSuccess:r}=e,{user:l}=(0,i.a)(),[m,u]=(0,o.useState)({fullName:"",companyName:"",email:"",phone:"",projectPostcode:"",teamSize:"",city:""}),[f,x]=(0,o.useState)([{id:"1",startDate:"",endDate:""}]),[p,h]=(0,o.useState)(""),[g,b]=(0,o.useState)(!1),[y,k]=(0,o.useState)(!1),[v,w]=(0,o.useState)(!1),j=(0,o.useRef)(null),[N,_]=(0,o.useState)(null),S=(0,o.useRef)(!1),z=e=>{let{name:t,value:a}=e.target;u(e=>({...e,[t]:a}))},D=e=>{"Enter"===e.key&&e.preventDefault()},C=e=>{f.length>1&&x(t=>t.filter(t=>t.id!==e))},L=(e,t,a)=>{x(s=>s.map(s=>s.id===e?{...s,[t]:a}:s))},F=e=>{if(!e)return"";let[t,a,s]=e.split("-").map(Number);return new Date(t,a-1,s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},I=(e,t,a)=>{L(e,t,a),_(null)};(0,o.useEffect)(()=>{t&&(S.current=!1)},[t]),(0,o.useEffect)(()=>{(async()=>{if((null==l?void 0:l.id)&&t)try{let{data:e,error:t}=await c.supabase.from("contractor").select("*").eq("id",l.id).single();if(t&&"PGRST116"!==t.code){console.error("Error fetching contractor data:",t);return}e&&u(t=>({...t,fullName:e.full_name||t.fullName,companyName:e.company_name||t.companyName,email:e.company_email||l.email||t.email,phone:e.phone||t.phone}))}catch(e){console.error("Error fetching contractor data:",e)}})()},[l,t]),(0,o.useEffect)(()=>{(async()=>{if(n&&t)try{let{data:t,error:a}=await c.supabase.from("booking_requests").select("*").eq("id",n).single();if(a){console.error("Error fetching booking request for edit:",a);return}if(t){var e;u({fullName:t.full_name||"",companyName:t.company_name||"",email:t.email||"",phone:t.phone||"",projectPostcode:t.project_postcode||"",teamSize:(null===(e=t.team_size)||void 0===e?void 0:e.toString())||"",city:t.city||""}),h(t.budget_per_person_week||"");let{data:a,error:s}=await c.supabase.from("booking_dates").select("*").eq("booking_request_id",n).order("start_date",{ascending:!0});!s&&a&&a.length>0&&x(a.map(e=>({id:e.id,startDate:e.start_date,endDate:e.end_date})))}}catch(e){console.error("Error fetching booking data:",e)}})()},[n,t]),(0,o.useEffect)(()=>{let e=e=>{j.current&&!j.current.contains(e.target)&&b(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);let M=async e=>{if(e.preventDefault(),S.current){S.current=!1,k(!0);try{let e;if(n){let{error:t}=await c.supabase.from("booking_requests").update({full_name:m.fullName,company_name:m.companyName,email:m.email,phone:m.phone,project_postcode:m.projectPostcode,team_size:m.teamSize?parseInt(m.teamSize):null,budget_per_person_week:p,city:m.city}).eq("id",n);if(t){console.error("Error updating booking request:",t),alert("Failed to update booking request. Please try again."),k(!1);return}let{error:a}=await c.supabase.from("booking_dates").delete().eq("booking_request_id",n);if(a){console.error("Error deleting existing booking dates:",a),alert("Failed to update booking dates. Please try again."),k(!1);return}e={id:n}}else{let{data:t,error:a}=await c.supabase.from("booking_requests").insert({full_name:m.fullName,company_name:m.companyName,email:m.email,phone:m.phone,project_postcode:m.projectPostcode,team_size:m.teamSize?parseInt(m.teamSize):null,budget_per_person_week:p,status:"pending",user_id:(null==l?void 0:l.id)||null,city:m.city}).select().single();if(a){console.error("Error saving to Supabase:",a),alert("Failed to save booking request. Please try again."),k(!1);return}e=t}if(e&&f.length>0){let t=f.filter(e=>e.startDate&&e.endDate&&""!==e.startDate.trim()&&""!==e.endDate.trim());if(t.length>0){let a=t.map(t=>({booking_request_id:e.id,start_date:t.startDate.trim(),end_date:t.endDate.trim()}));for(let e of a)if(new Date(e.start_date)>=new Date(e.end_date)){alert("Invalid date range: Start date must be before end date."),k(!1);return}let{error:s}=await c.supabase.from("booking_dates").insert(a);if(s){console.error("Error saving booking dates:",s),alert("Failed to save booking dates. Please try again."),k(!1);return}}}w(!0),setTimeout(()=>{w(!1),u({fullName:"",companyName:"",email:"",phone:"",projectPostcode:"",teamSize:"",city:""}),x([{id:"1",startDate:"",endDate:""}]),h(""),k(!1),r&&r(),a()},2e3)}catch(e){console.error("Error submitting form:",e),alert("An error occurred. Please try again."),k(!1)}}};return t?v?(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full p-8 text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("h3",{className:"text-2xl font-avenir-bold font-bold text-booking-dark mb-2",children:"Success!"}),(0,s.jsxs)("p",{className:"text-booking-gray font-avenir tracking-wide",children:["Your booking request has been ",n?"updated":"submitted"," successfully."]})]})}):(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50 overflow-y-auto",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-4xl w-full my-8 max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"sticky top-0 bg-white px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("img",{src:"/blue-teal.webp",alt:"Logo",className:"h-6 sm:h-10 w-auto object-contain"}),(0,s.jsx)("h2",{className:"text-xl font-avenir-bold text-booking-dark sm:text-3xl sm:absolute sm:left-1/2 sm:-translate-x-1/2",children:n?"Edit Request":"Create Request"})]}),(0,s.jsx)("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",type:"button",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsx)("div",{className:"px-6 py-6 pb-8",children:(0,s.jsxs)("form",{onSubmit:M,className:"space-y-6",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"city",className:"block text-sm font-avenir font-medium tracking-wide text-booking-dark mb-2",children:"Where do you need accommodation?"}),(0,s.jsx)("input",{type:"text",id:"city",name:"city",value:m.city,onChange:z,onKeyDown:D,placeholder:"e.g. London",className:"w-full px-4 py-2 sm:py-3 text-sm sm:text-base font-avenir tracking-wide placeholder:text-xs sm:placeholder:text-sm border border-booking-teal rounded-lg focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"projectPostcode",className:"block text-sm font-avenir font-medium tracking-wide text-booking-dark mb-2",children:"Accommodation Postcode"}),(0,s.jsx)("input",{type:"text",id:"projectPostcode",name:"projectPostcode",value:m.projectPostcode,onChange:z,onKeyDown:D,className:"w-full px-4 py-2 sm:py-3 text-sm sm:text-base font-avenir tracking-wide placeholder:text-xs sm:placeholder:text-sm border border-booking-teal rounded-lg focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent",placeholder:"Enter postcode"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-avenir font-medium tracking-wide text-booking-dark mb-2",children:"Booking Dates"}),f.map((e,t)=>(0,s.jsxs)("div",{className:"mb-3",children:[f.length>1&&(0,s.jsx)("div",{className:"flex justify-end items-center mb-2",children:(0,s.jsx)("button",{type:"button",onClick:()=>C(e.id),className:"text-red-500 hover:text-red-700 text-sm",children:"Remove"})}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{className:"block text-sm font-avenir font-medium tracking-wide text-booking-dark mb-2",children:"Start Date"}),(0,s.jsxs)("button",{type:"button",onClick:t=>{t.stopPropagation(),_({bookingId:e.id,field:"start"})},className:"w-full px-4 py-2 sm:py-3 text-sm sm:text-base font-avenir tracking-wide border rounded-lg focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-left flex items-center justify-between ".concat(e.startDate?"text-[#0B1D37]":"text-[#4B4E53]"," border-booking-teal"),children:[(0,s.jsx)("span",{children:e.startDate?F(e.startDate):"Select start date"}),(0,s.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#008080]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]}),N&&N.bookingId===e.id&&"start"===N.field&&(0,s.jsx)(d.Z,{isOpen:!0,onClose:()=>_(null),onSelect:t=>I(e.id,"startDate",t),initialDate:e.startDate})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("label",{className:"block text-sm font-avenir font-medium tracking-wide text-booking-dark mb-2",children:"End Date"}),(0,s.jsxs)("button",{type:"button",onClick:t=>{t.stopPropagation(),_({bookingId:e.id,field:"end"})},className:"w-full px-4 py-2 sm:py-3 text-sm sm:text-base font-avenir tracking-wide border rounded-lg focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-left flex items-center justify-between ".concat(e.endDate?"text-[#0B1D37]":"text-[#4B4E53]"," border-booking-teal"),children:[(0,s.jsx)("span",{children:e.endDate?F(e.endDate):"Select end date"}),(0,s.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-[#008080]",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]}),N&&N.bookingId===e.id&&"end"===N.field&&(0,s.jsx)(d.Z,{isOpen:!0,onClose:()=>_(null),onSelect:t=>I(e.id,"endDate",t),initialDate:e.endDate,minDate:e.startDate||void 0,alignRight:!0})]})]})]},e.id)),(0,s.jsx)("div",{className:"mt-3",children:(0,s.jsx)("button",{type:"button",onClick:()=>{let e={id:"new-".concat(Date.now()),startDate:"",endDate:""};x(t=>[...t,e])},className:"w-full sm:w-auto bg-booking-teal text-white px-4 py-2 rounded-lg hover:bg-booking-dark transition-colors duration-200 text-sm font-avenir tracking-wide",children:"+ Add Booking"})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"teamSize",className:"block text-sm font-avenir font-medium tracking-wide text-booking-dark mb-2",children:"How many people?"}),(0,s.jsx)("input",{type:"number",id:"teamSize",name:"teamSize",value:m.teamSize,onChange:z,onKeyDown:D,min:"1",className:"w-full px-4 py-2 sm:py-3 text-sm sm:text-base font-avenir tracking-wide placeholder:text-xs sm:placeholder:text-sm border border-booking-teal rounded-lg focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent",placeholder:"Number of people",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"budgetPerPerson",className:"block text-sm font-avenir font-medium tracking-wide text-booking-dark mb-2",children:"Nightly budget"}),(0,s.jsx)("input",{type:"number",id:"budgetPerPerson",name:"budgetPerPerson",value:p,onChange:e=>h(e.target.value),onKeyDown:D,min:"0",className:"w-full px-4 py-2 sm:py-3 text-sm sm:text-base font-avenir tracking-wide placeholder:text-xs sm:placeholder:text-sm border border-booking-teal rounded-lg focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent",placeholder:"Enter budget"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"fullName",className:"block text-sm font-avenir font-medium tracking-wide text-booking-dark mb-2",children:"Name *"}),(0,s.jsx)("input",{type:"text",id:"fullName",name:"fullName",value:m.fullName,onChange:z,onKeyDown:D,className:"w-full px-4 py-2 sm:py-3 text-sm sm:text-base font-avenir tracking-wide placeholder:text-xs sm:placeholder:text-sm border border-booking-teal rounded-lg focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent",placeholder:"Your full name",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"companyName",className:"block text-sm font-avenir font-medium tracking-wide text-booking-dark mb-2",children:"Company Name *"}),(0,s.jsx)("input",{type:"text",id:"companyName",name:"companyName",value:m.companyName,onChange:z,onKeyDown:D,className:"w-full px-4 py-2 sm:py-3 text-sm sm:text-base font-avenir tracking-wide placeholder:text-xs sm:placeholder:text-sm border border-booking-teal rounded-lg focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent",placeholder:"Company name",required:!0})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-avenir font-medium tracking-wide text-booking-dark mb-2",children:"Company Email *"}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",value:m.email,onChange:z,onKeyDown:D,className:"w-full px-4 py-2 sm:py-3 text-sm sm:text-base font-avenir tracking-wide placeholder:text-xs sm:placeholder:text-sm border border-booking-teal rounded-lg focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent",placeholder:"your.email@company.com",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"phone",className:"block text-sm font-avenir font-medium tracking-wide text-booking-dark mb-2",children:"Phone *"}),(0,s.jsx)("input",{type:"tel",id:"phone",name:"phone",value:m.phone,onChange:z,onKeyDown:D,className:"w-full px-4 py-2 sm:py-3 text-sm sm:text-base font-avenir tracking-wide placeholder:text-xs sm:placeholder:text-sm border border-booking-teal rounded-lg focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent",placeholder:"Your phone number",required:!0})]})]}),(0,s.jsxs)("div",{className:"pt-4 space-y-4",children:[(0,s.jsxs)("p",{className:"text-xs sm:text-sm text-center text-booking-gray font-avenir tracking-wide",children:["By submitting, you agree to our"," ",(0,s.jsx)("a",{href:"/terms",target:"_blank",className:"text-booking-teal hover:underline",children:"Client Terms & Conditions"}),"."]}),(0,s.jsx)("button",{type:"submit",disabled:y,onClick:()=>{S.current=!0},className:"w-full bg-booking-teal text-white px-6 py-3 rounded-lg font-avenir tracking-wide text-base hover:bg-opacity-90 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:y?"Submitting...":n?"Update Request":"Submit Request"})]})]})})]})}):null}function u(){let{user:e,loading:t,signOut:a}=(0,i.a)(),n=(0,l.useRouter)(),[u,f]=(0,o.useState)([]),[x,p]=(0,o.useState)(!1),[h,g]=(0,o.useState)("dashboard"),[b,y]=(0,o.useState)(""),[k,v]=(0,o.useState)(""),[w,j]=(0,o.useState)("active"),[N,_]=(0,o.useState)(!1),[S,z]=(0,o.useState)(null),[D,C]=(0,o.useState)(new Set(["search"])),[L,F]=(0,o.useState)({search:"",postcode:"",startDate:"",endDate:""}),[I,M]=(0,o.useState)(!1),[E,R]=(0,o.useState)({company_name:"",company_email:"",company_address:"",phone:"",client_type:""}),[B,P]=(0,o.useState)(""),[q,A]=(0,o.useState)(!1),[W,T]=(0,o.useState)(null),[O,H]=(0,o.useState)(!1),[V,U]=(0,o.useState)(!1),[Y,J]=(0,o.useState)(null),[G,Z]=(0,o.useState)(!1),[K,X]=(0,o.useState)(!1),[Q,$]=(0,o.useState)(null),ee=e=>{if(!e)return"";let[t,a,s]=e.split("-").map(Number);return new Date(t,a-1,s).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})},et=async()=>{if(null==e?void 0:e.id)try{let{data:t,error:a}=await c.supabase.from("contractor").select("full_name, company_name, company_email, company_address, phone, client_type, role").eq("id",e.id).single();if(a&&"PGRST116"!==a.code){console.error("Error fetching contractor data:",a);return}if(t){console.log("Contractor data fetched:",t),P(t.full_name||(null==e?void 0:e.full_name)||"");let a=t.client_type||("contractor"===t.role?"Client":"");R({company_name:t.company_name||"",company_email:t.company_email||(null==e?void 0:e.email)||"",company_address:t.company_address||"",phone:t.phone||"",client_type:a})}else console.log("No contractor data found, using user data"),P((null==e?void 0:e.full_name)||""),R({company_name:"",company_email:(null==e?void 0:e.email)||"",company_address:"",phone:"",client_type:"Client"})}catch(e){console.error("Error fetching contractor data:",e)}},ea=async()=>{if(null==e?void 0:e.id)try{let t;let{data:a,error:s}=await c.supabase.from("contractor").select("id").eq("id",e.id).single();if(s&&"PGRST116"!==s.code){console.error("Error checking contractor data:",s),alert("Error checking contractor information. Please try again.");return}(t=a?await c.supabase.from("contractor").update({company_name:E.company_name,company_email:E.company_email,company_address:E.company_address,phone:E.phone,client_type:E.client_type}).eq("id",e.id):await c.supabase.from("contractor").insert({id:e.id,email:e.email||"",full_name:e.full_name||"",role:"contractor",company_name:E.company_name,company_email:E.company_email,company_address:E.company_address,phone:E.phone,client_type:E.client_type})).error?console.error("Error updating contractor data:",t.error):(A(!0),setTimeout(()=>A(!1),5e3))}catch(e){console.error("Error updating contractor data:",e),alert("Error updating contact information: ".concat(e instanceof Error?e.message:"Unknown error"))}};(0,o.useEffect)(()=>{if(!t&&!e){n.push("/auth/login");return}if(e&&"contractor"!==e.role){n.push("/");return}},[e,t,n]),(0,o.useEffect)(()=>{let e=e=>{I&&!e.target.closest(".filter-dropdown-container")&&M(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[I]),(0,o.useEffect)(()=>{e?(es(),er()):p(!1)},[e]),(0,o.useEffect)(()=>{"contact-info"===h&&(null==e?void 0:e.id)&&et()},[h,null==e?void 0:e.id]),(0,o.useEffect)(()=>{(null==e?void 0:e.full_name)&&!B&&P(e.full_name)},[null==e?void 0:e.full_name,B]),(0,o.useEffect)(()=>{let e=e=>{S&&z(null),G&&!e.target.closest(".role-dropdown-container")&&Z(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[S,G]);let es=async()=>{if(null==e?void 0:e.id)try{let{data:t,error:a}=await c.supabase.from("contractor").select("full_name").eq("id",e.id).single();if(a){console.error("Error fetching contractor name:",a);return}(null==t?void 0:t.full_name)&&y(t.full_name)}catch(e){console.error("Error fetching contractor name:",e)}},en=async(e,t)=>{try{let{data:a,error:s}=await c.supabase.from("booking_requests").select("\n          id,\n          full_name,\n          email,\n          company_name,\n          team_size,\n          budget_per_person_week,\n          project_postcode,\n          status,\n          booking_dates(\n            id,\n            start_date,\n            end_date,\n            status\n          )\n        ").eq("id",e).single();if(s){console.error("Error fetching booking details:",s);return}if(a&&a.booking_dates){let e=a.booking_dates.find(e=>e.id===t);e&&e.status&&(a.status=e.status),a.booking_dates=a.booking_dates.filter(e=>e.id===t)}T(a),H(!0)}catch(e){console.error("Error fetching booking details:",e)}},er=async()=>{try{p(!0);let{data:t,error:a}=await c.supabase.from("booking_requests").select("\n          *,\n          booking_dates(\n            id,\n            start_date,\n            end_date,\n            status,\n            created_at\n          )\n        ").or("user_id.eq.".concat(null==e?void 0:e.id,",email.eq.").concat(null==e?void 0:e.email)).order("created_at",{ascending:!1});if(a){console.error("Error fetching booking requests:",a);return}let s=[];if(t){for(let e of t)if(e.booking_dates&&e.booking_dates.length>0)for(let t of e.booking_dates){let a;let n=t.status||e.status;if("confirmed"===n)try{let{data:e}=await c.supabase.auth.getSession();if(e.session){let s=await fetch("https://jfgm6v6pkw.us-east-1.awsapprunner.com/api/booking-values/".concat(t.id),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.session.access_token)}});if(s.ok){let e=await s.json();e.success&&e.value&&(a=e.value)}else console.error("Failed to fetch booking value from backend:",s.status)}}catch(e){console.error("Error fetching booking value:",e)}s.push({id:t.id,booking_request_id:e.id,property_id:e.assigned_property_id||"",start_date:t.start_date,end_date:t.end_date,status:n,created_at:e.created_at,property:{title:"".concat(e.company_name||"N/A"," | Number of people: ").concat(e.team_size||"N/A"),address:e.project_postcode||"Location TBD",price:e.budget_per_person_week||0},value:a})}}f(s)}catch(e){console.error("Error fetching bookings:",e)}finally{p(!1)}},eo=async()=>{X(!1),n.push("/"),e&&await a()};if(t)return(0,s.jsx)("div",{className:"min-h-screen bg-booking-bg",children:(0,s.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,s.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-booking-teal"})})});let ei=u.filter(e=>"confirmed"===e.status||"paid"===e.status),el=u.filter(e=>"pending"===e.status);return(0,s.jsxs)("div",{className:"h-screen bg-gray-50 flex flex-col lg:flex-row overflow-hidden",children:[(0,s.jsxs)("div",{className:"lg:hidden bg-booking-dark text-white p-4 flex items-center relative",children:[(0,s.jsx)("img",{src:"/white-teal.webp",alt:"Booking Hub Logo",className:"h-8 w-auto object-contain py-1 mr-3 animate-fade-in",style:{maxWidth:"100%"}}),(0,s.jsx)("p",{className:"absolute left-1/2 -translate-x-1/2 text-xl font-avenir tracking-wide font-bold text-white pointer-events-none animate-fade-in",children:"Client Portal"}),(0,s.jsx)("button",{onClick:()=>_(!N),className:"ml-auto p-2 rounded-lg hover:bg-gray-700 transition-all duration-300 hover:scale-110 active:scale-95 group",children:(0,s.jsx)("svg",{className:"w-6 h-6 group-hover:rotate-90 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),N&&(0,s.jsxs)("div",{className:"lg:hidden fixed inset-0 z-50",children:[(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 animate-fade-in",onClick:()=>_(!1)}),(0,s.jsxs)("div",{className:"fixed top-0 left-0 h-full w-64 bg-booking-dark text-white transform transition-transform duration-300 ease-in-out animate-mobile-slide-in shadow-2xl",children:[(0,s.jsx)("div",{className:"p-4 bg-booking-dark",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-2 py-2 animate-fade-in-down",style:{animationDelay:"0.2s",animationFillMode:"backwards"},children:[(0,s.jsx)("img",{src:"/white-teal.webp",alt:"Booking Hub Logo",className:"h-12 w-auto object-contain animate-logo-bounce",style:{maxWidth:"100%",animationDelay:"0.3s",animationFillMode:"backwards"}}),(0,s.jsx)("p",{className:"text-lg font-avenir tracking-wide font-bold text-white",children:"Client Portal"})]}),(0,s.jsx)("button",{onClick:()=>_(!1),className:"p-2 rounded-lg hover:bg-gray-700 transition-all duration-300 hover:rotate-90 group",children:(0,s.jsx)("svg",{className:"w-6 h-6 group-hover:scale-110 transition-transform",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,s.jsxs)("nav",{className:"p-4 space-y-2 font-avenir tracking-wide",children:[(0,s.jsxs)("button",{onClick:()=>{g("dashboard"),_(!1)},className:"w-full text-left px-4 py-3 rounded-xl transition-all duration-300 animate-slide-in-left group relative overflow-hidden ".concat("dashboard"===h?"bg-white text-booking-dark shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white hover:translate-x-1"),style:{animationDelay:"0.4s",animationFillMode:"backwards"},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 relative z-10",children:[(0,s.jsxs)("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v2H8V5z"})]}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Dashboard"}),"dashboard"===h&&(0,s.jsx)("div",{className:"w-1 h-1 bg-booking-teal rounded-full ml-auto animate-pulse-dot"})]})]}),(0,s.jsxs)("button",{onClick:()=>{g("booking-requests"),_(!1)},className:"w-full text-left px-4 py-3 rounded-xl transition-all duration-300 animate-slide-in-left group relative overflow-hidden ".concat("booking-requests"===h?"bg-white text-booking-dark shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white hover:translate-x-1"),style:{animationDelay:"0.5s",animationFillMode:"backwards"},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 relative z-10",children:[(0,s.jsx)("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Booking Requests"}),"booking-requests"===h&&(0,s.jsx)("div",{className:"w-1 h-1 bg-booking-teal rounded-full ml-auto animate-pulse-dot"})]})]}),(0,s.jsxs)("button",{onClick:()=>{g("contact-info"),_(!1)},className:"w-full text-left px-4 py-3 rounded-xl transition-all duration-300 animate-slide-in-left group relative overflow-hidden ".concat("contact-info"===h?"bg-white text-booking-dark shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white hover:translate-x-1"),style:{animationDelay:"0.6s",animationFillMode:"backwards"},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 relative z-10",children:[(0,s.jsx)("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,s.jsx)("span",{className:"text-sm font-medium",children:"Contact Information"}),"contact-info"===h&&(0,s.jsx)("div",{className:"w-1 h-1 bg-booking-teal rounded-full ml-auto animate-pulse-dot"})]})]})]}),(0,s.jsxs)("div",{className:"p-4 mt-auto animate-fade-in-up",style:{animationDelay:"0.7s",animationFillMode:"backwards"},children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-4 group cursor-pointer hover:bg-gray-700/30 p-2 rounded-lg transition-all duration-300",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-booking-teal rounded-full flex items-center justify-center group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 shadow-lg",children:(0,s.jsx)("span",{className:"text-white font-semibold text-sm",children:b?b.charAt(0).toUpperCase():"C"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm font-avenir font-medium text-white group-hover:text-booking-teal transition-colors duration-300",children:b||"Contractor"}),(0,s.jsx)("p",{className:"text-xs font-avenir text-gray-300",children:"Client"})]})]}),(0,s.jsxs)("button",{onClick:()=>{X(!0),_(!1)},className:"w-full px-4 py-3 rounded-xl bg-red-600 text-white hover:bg-red-700 transition-all duration-300 hover:shadow-lg hover:scale-105 active:scale-95 group relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transform -skew-x-12 group-hover:translate-x-full transition-all duration-700"}),(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-3 relative z-10",children:[(0,s.jsx)("svg",{className:"w-5 h-5 group-hover:rotate-12 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,s.jsx)("span",{className:"text-sm font-avenir font-medium",children:"Logout"})]})]})]})]})]}),(0,s.jsxs)("div",{className:"hidden lg:flex w-64 bg-booking-dark text-white flex-col h-screen flex-shrink-0 overflow-y-auto animate-sidebar-slide-in",children:[(0,s.jsx)("div",{className:"p-6 bg-booking-dark animate-fade-in-down",style:{animationDelay:"0.1s",animationFillMode:"backwards"},children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-2 py-2",children:[(0,s.jsx)("img",{src:"/white-teal.webp",alt:"Booking Hub Logo",className:"h-12 w-auto object-contain animate-logo-bounce",style:{maxWidth:"100%",animationDelay:"0.3s",animationFillMode:"backwards"}}),(0,s.jsx)("p",{className:"text-lg font-avenir tracking-wide font-bold text-white animate-fade-in",style:{animationDelay:"0.5s",animationFillMode:"backwards"},children:"Client Portal"})]})}),(0,s.jsxs)("nav",{className:"flex-1 p-4 space-y-2 font-avenir tracking-wide",children:[(0,s.jsxs)("button",{onClick:()=>g("dashboard"),className:"w-full text-left px-4 py-3 rounded-xl transition-all duration-300 animate-slide-in-left group relative overflow-hidden ".concat("dashboard"===h?"bg-white text-booking-dark shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white hover:translate-x-1"),style:{animationDelay:"0.6s",animationFillMode:"backwards"},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 relative z-10",children:[(0,s.jsxs)("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v2H8V5z"})]}),(0,s.jsx)("span",{className:"text-sm lg:text-base font-medium",children:"Dashboard"}),"dashboard"===h&&(0,s.jsx)("div",{className:"w-1 h-1 bg-booking-teal rounded-full ml-auto animate-pulse-dot"})]})]}),(0,s.jsxs)("button",{onClick:()=>g("booking-requests"),className:"w-full text-left px-4 py-3 rounded-xl transition-all duration-300 animate-slide-in-left group relative overflow-hidden ".concat("booking-requests"===h?"bg-white text-booking-dark shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white hover:translate-x-1"),style:{animationDelay:"0.7s",animationFillMode:"backwards"},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 relative z-10",children:[(0,s.jsx)("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})}),(0,s.jsx)("span",{className:"text-sm lg:text-base font-medium",children:"Booking Requests"}),"booking-requests"===h&&(0,s.jsx)("div",{className:"w-1 h-1 bg-booking-teal rounded-full ml-auto animate-pulse-dot"})]})]}),(0,s.jsxs)("button",{onClick:()=>g("contact-info"),className:"w-full text-left px-4 py-3 rounded-xl transition-all duration-300 animate-slide-in-left group relative overflow-hidden ".concat("contact-info"===h?"bg-white text-booking-dark shadow-lg":"text-gray-300 hover:bg-gray-700 hover:text-white hover:translate-x-1"),style:{animationDelay:"0.8s",animationFillMode:"backwards"},children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),(0,s.jsxs)("div",{className:"flex items-center space-x-3 relative z-10",children:[(0,s.jsx)("svg",{className:"w-5 h-5 group-hover:scale-110 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,s.jsx)("span",{className:"text-sm lg:text-base font-medium",children:"Contact Information"}),"contact-info"===h&&(0,s.jsx)("div",{className:"w-1 h-1 bg-booking-teal rounded-full ml-auto animate-pulse-dot"})]})]})]}),(0,s.jsxs)("div",{className:"p-4 animate-fade-in-up",style:{animationDelay:"0.9s",animationFillMode:"backwards"},children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3 mb-4 group cursor-pointer hover:bg-gray-700/30 p-2 rounded-lg transition-all duration-300",children:[(0,s.jsx)("div",{className:"w-8 h-8 bg-booking-teal rounded-full flex items-center justify-center group-hover:scale-110 group-hover:rotate-6 transition-all duration-300 shadow-lg",children:(0,s.jsx)("span",{className:"text-white font-semibold text-sm",children:b?b.charAt(0).toUpperCase():"C"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-sm lg:text-base font-avenir font-medium text-white group-hover:text-booking-teal transition-colors duration-300",children:b||"Contractor"}),(0,s.jsx)("p",{className:"text-xs lg:text-sm font-avenir text-gray-300",children:"Client"})]})]}),(0,s.jsxs)("button",{onClick:()=>X(!0),className:"w-full px-4 py-3 rounded-xl bg-red-600 text-white hover:bg-red-700 transition-all duration-300 hover:shadow-lg hover:scale-105 active:scale-95 group relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/20 to-transparent opacity-0 group-hover:opacity-100 transform -skew-x-12 group-hover:translate-x-full transition-all duration-700"}),(0,s.jsxs)("div",{className:"flex items-center justify-center space-x-3 relative z-10",children:[(0,s.jsx)("svg",{className:"w-5 h-5 group-hover:rotate-12 transition-transform duration-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,s.jsx)("span",{className:"text-sm lg:text-base font-avenir font-medium",children:"Logout"})]})]})]})]}),(0,s.jsx)("div",{className:"flex-1 p-4 sm:p-6 lg:p-8 overflow-y-auto overflow-x-hidden",children:(()=>{switch(h){case"dashboard":return(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 space-y-6",children:[(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 flex flex-col space-y-4",children:[(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30",children:[(0,s.jsx)("h1",{className:"jsx-cd84479055f18c30 text-xl sm:text-2xl font-avenir-bold tracking-wide font-bold text-booking-dark",children:"Analytics"}),(0,s.jsx)("p",{className:"jsx-cd84479055f18c30 text-sm sm:text-base font-avenir font-medium tracking-wide text-booking-gray",children:"Accommodation booking overview"})]}),(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 flex flex-col sm:flex-row gap-4 items-start",children:(0,s.jsx)("button",{onClick:()=>{J(null),U(!0)},style:{background:"linear-gradient(to right, #00BAB5, rgba(0, 186, 181, 0.54))"},className:"jsx-cd84479055f18c30 w-full sm:w-auto text-white px-6 py-3 sm:px-8 sm:py-4 lg:px-10 lg:py-5 rounded-lg transition-all duration-200 font-avenir font-medium tracking-wide font-bold text-base sm:text-lg lg:text-xl shadow-lg hover:shadow-xl transform hover:scale-105 whitespace-nowrap",children:"Create Booking Request"})})]}),(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 grid grid-cols-2 lg:grid-cols-2 gap-3 sm:gap-4 lg:gap-6 max-w-4xl mx-auto",children:[(0,s.jsxs)("div",{style:{background:"linear-gradient(135deg, #00BAB5, rgba(0, 186, 181, 0.54))",animationDelay:"0.1s",animationFillMode:"backwards"},className:"jsx-cd84479055f18c30 rounded-xl sm:rounded-2xl p-3 sm:p-4 lg:p-6 text-white animate-tile-slide-in-left hover:scale-105 hover:shadow-2xl transition-all duration-500 ease-out cursor-pointer group relative overflow-hidden",children:[(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 absolute inset-0 bg-gradient-to-br from-white/0 via-white/5 to-white/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 relative z-10",children:[(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 flex items-center justify-between mb-2 sm:mb-3 lg:mb-4",children:[(0,s.jsx)("h3",{className:"jsx-cd84479055f18c30 text-sm sm:text-base lg:text-lg font-avenir-bold tracking-wide font-semibold",children:"Active Requests"}),(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 w-5 h-5 sm:w-6 sm:h-6 lg:w-8 lg:h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center group-hover:rotate-12 group-hover:scale-110 transition-all duration-500",children:(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-cd84479055f18c30 w-2.5 h-2.5 sm:w-3 sm:h-3 lg:w-4 lg:h-4 animate-pulse-slow",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",className:"jsx-cd84479055f18c30"})})})]}),(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 text-xl sm:text-2xl lg:text-3xl font-avenir font-bold tracking-wide mb-1 sm:mb-2 animate-number-pop",children:ei.length}),(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 text-xs sm:text-sm font-avenir font-medium tracking-wide opacity-90 mb-2 sm:mb-3 lg:mb-4",children:"Currently active projects"}),(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-0 text-xs sm:text-sm font-avenir font-medium tracking-wide",children:[(0,s.jsxs)("div",{style:{animationDelay:"0.3s",animationFillMode:"backwards"},className:"jsx-cd84479055f18c30 flex items-center space-x-2 animate-fade-in-up",children:[(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 w-2 h-2 bg-white rounded-full animate-ping-slow"}),(0,s.jsxs)("span",{className:"jsx-cd84479055f18c30",children:["Confirmed: ",ei.filter(e=>"confirmed"===e.status).length]})]}),(0,s.jsxs)("div",{style:{animationDelay:"0.4s",animationFillMode:"backwards"},className:"jsx-cd84479055f18c30 flex items-center space-x-2 animate-fade-in-up",children:[(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 w-2 h-2 bg-white bg-opacity-60 rounded-full animate-ping-slow"}),(0,s.jsxs)("span",{className:"jsx-cd84479055f18c30",children:["Paid: ",ei.filter(e=>"paid"===e.status).length]})]})]})]})]}),(0,s.jsxs)("div",{style:{animationDelay:"0.2s",animationFillMode:"backwards"},className:"jsx-cd84479055f18c30 bg-white rounded-xl sm:rounded-2xl p-3 sm:p-4 lg:p-6 shadow-lg border border-gray-100 animate-tile-slide-in-right hover:scale-105 hover:shadow-2xl transition-all duration-500 ease-out cursor-pointer group relative overflow-hidden",children:[(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 absolute inset-0 bg-gradient-to-br from-yellow-50/0 via-yellow-50/50 to-yellow-50/0 opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 relative z-10",children:[(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 flex items-center justify-between mb-2 sm:mb-3 lg:mb-4",children:[(0,s.jsx)("h3",{className:"jsx-cd84479055f18c30 text-sm sm:text-base lg:text-lg font-avenir-bold tracking-wide font-semibold text-booking-dark",children:"Pending Requests"}),(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 w-5 h-5 sm:w-6 sm:h-6 lg:w-8 lg:h-8 bg-yellow-100 rounded-full flex items-center justify-center group-hover:rotate-12 group-hover:scale-110 transition-all duration-500",children:(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-cd84479055f18c30 w-2.5 h-2.5 sm:w-3 sm:h-3 lg:w-4 lg:h-4 text-yellow-600 animate-pulse-slow",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",className:"jsx-cd84479055f18c30"})})})]}),(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 text-xl sm:text-2xl lg:text-3xl font-avenir font-bold tracking-wide text-booking-dark mb-1 sm:mb-2 animate-number-pop",children:el.length}),(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 text-xs sm:text-sm font-avenir font-medium tracking-wide text-booking-gray mb-2 sm:mb-3 lg:mb-4",children:"Awaiting approval"}),(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 w-full bg-gray-200 rounded-full h-2 mb-2 sm:mb-3 lg:mb-4 overflow-hidden",children:(0,s.jsx)("div",{style:{width:"".concat(Math.min(el.length/10*100,100),"%")},className:"jsx-cd84479055f18c30 bg-yellow-500 h-2 rounded-full animate-progress-fill transition-all duration-1000 ease-out"})}),(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-0 text-xs sm:text-sm font-avenir font-medium tracking-wide text-booking-gray",children:[(0,s.jsxs)("span",{style:{animationDelay:"0.5s",animationFillMode:"backwards"},className:"jsx-cd84479055f18c30 animate-fade-in-up",children:["This week: ",el.length]}),(0,s.jsxs)("span",{style:{animationDelay:"0.6s",animationFillMode:"backwards"},className:"jsx-cd84479055f18c30 animate-fade-in-up",children:["+",Math.floor(5*Math.random()),"% from last week"]})]})]})]})]}),(0,s.jsx)(r(),{id:"cd84479055f18c30",children:"@-webkit-keyframes tileSlideInLeft{0%{opacity:0;-webkit-transform:translatex(-50px)translatey(20px)scale(.9);transform:translatex(-50px)translatey(20px)scale(.9)}100%{opacity:1;-webkit-transform:translatex(0)translatey(0)scale(1);transform:translatex(0)translatey(0)scale(1)}}@-moz-keyframes tileSlideInLeft{0%{opacity:0;-moz-transform:translatex(-50px)translatey(20px)scale(.9);transform:translatex(-50px)translatey(20px)scale(.9)}100%{opacity:1;-moz-transform:translatex(0)translatey(0)scale(1);transform:translatex(0)translatey(0)scale(1)}}@-o-keyframes tileSlideInLeft{0%{opacity:0;-o-transform:translatex(-50px)translatey(20px)scale(.9);transform:translatex(-50px)translatey(20px)scale(.9)}100%{opacity:1;-o-transform:translatex(0)translatey(0)scale(1);transform:translatex(0)translatey(0)scale(1)}}@keyframes tileSlideInLeft{0%{opacity:0;-webkit-transform:translatex(-50px)translatey(20px)scale(.9);-moz-transform:translatex(-50px)translatey(20px)scale(.9);-o-transform:translatex(-50px)translatey(20px)scale(.9);transform:translatex(-50px)translatey(20px)scale(.9)}100%{opacity:1;-webkit-transform:translatex(0)translatey(0)scale(1);-moz-transform:translatex(0)translatey(0)scale(1);-o-transform:translatex(0)translatey(0)scale(1);transform:translatex(0)translatey(0)scale(1)}}@-webkit-keyframes tileSlideInRight{0%{opacity:0;-webkit-transform:translatex(50px)translatey(20px)scale(.9);transform:translatex(50px)translatey(20px)scale(.9)}100%{opacity:1;-webkit-transform:translatex(0)translatey(0)scale(1);transform:translatex(0)translatey(0)scale(1)}}@-moz-keyframes tileSlideInRight{0%{opacity:0;-moz-transform:translatex(50px)translatey(20px)scale(.9);transform:translatex(50px)translatey(20px)scale(.9)}100%{opacity:1;-moz-transform:translatex(0)translatey(0)scale(1);transform:translatex(0)translatey(0)scale(1)}}@-o-keyframes tileSlideInRight{0%{opacity:0;-o-transform:translatex(50px)translatey(20px)scale(.9);transform:translatex(50px)translatey(20px)scale(.9)}100%{opacity:1;-o-transform:translatex(0)translatey(0)scale(1);transform:translatex(0)translatey(0)scale(1)}}@keyframes tileSlideInRight{0%{opacity:0;-webkit-transform:translatex(50px)translatey(20px)scale(.9);-moz-transform:translatex(50px)translatey(20px)scale(.9);-o-transform:translatex(50px)translatey(20px)scale(.9);transform:translatex(50px)translatey(20px)scale(.9)}100%{opacity:1;-webkit-transform:translatex(0)translatey(0)scale(1);-moz-transform:translatex(0)translatey(0)scale(1);-o-transform:translatex(0)translatey(0)scale(1);transform:translatex(0)translatey(0)scale(1)}}@-webkit-keyframes numberPop{0%{opacity:0;-webkit-transform:scale(.5);transform:scale(.5)}50%{-webkit-transform:scale(1.1);transform:scale(1.1)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@-moz-keyframes numberPop{0%{opacity:0;-moz-transform:scale(.5);transform:scale(.5)}50%{-moz-transform:scale(1.1);transform:scale(1.1)}100%{opacity:1;-moz-transform:scale(1);transform:scale(1)}}@-o-keyframes numberPop{0%{opacity:0;-o-transform:scale(.5);transform:scale(.5)}50%{-o-transform:scale(1.1);transform:scale(1.1)}100%{opacity:1;-o-transform:scale(1);transform:scale(1)}}@keyframes numberPop{0%{opacity:0;-webkit-transform:scale(.5);-moz-transform:scale(.5);-o-transform:scale(.5);transform:scale(.5)}50%{-webkit-transform:scale(1.1);-moz-transform:scale(1.1);-o-transform:scale(1.1);transform:scale(1.1)}100%{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1)}}@-webkit-keyframes fadeInUp{0%{opacity:0;-webkit-transform:translatey(15px);transform:translatey(15px)}100%{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeInUp{0%{opacity:0;-moz-transform:translatey(15px);transform:translatey(15px)}100%{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeInUp{0%{opacity:0;-o-transform:translatey(15px);transform:translatey(15px)}100%{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeInUp{0%{opacity:0;-webkit-transform:translatey(15px);-moz-transform:translatey(15px);-o-transform:translatey(15px);transform:translatey(15px)}100%{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}@-webkit-keyframes fadeInDown{0%{opacity:0;-webkit-transform:translatey(-15px);transform:translatey(-15px)}100%{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes fadeInDown{0%{opacity:0;-moz-transform:translatey(-15px);transform:translatey(-15px)}100%{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes fadeInDown{0%{opacity:0;-o-transform:translatey(-15px);transform:translatey(-15px)}100%{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes fadeInDown{0%{opacity:0;-webkit-transform:translatey(-15px);-moz-transform:translatey(-15px);-o-transform:translatey(-15px);transform:translatey(-15px)}100%{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-moz-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-o-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes slideInLeft{0%{opacity:0;-webkit-transform:translatex(-30px);transform:translatex(-30px)}100%{opacity:1;-webkit-transform:translatex(0);transform:translatex(0)}}@-moz-keyframes slideInLeft{0%{opacity:0;-moz-transform:translatex(-30px);transform:translatex(-30px)}100%{opacity:1;-moz-transform:translatex(0);transform:translatex(0)}}@-o-keyframes slideInLeft{0%{opacity:0;-o-transform:translatex(-30px);transform:translatex(-30px)}100%{opacity:1;-o-transform:translatex(0);transform:translatex(0)}}@keyframes slideInLeft{0%{opacity:0;-webkit-transform:translatex(-30px);-moz-transform:translatex(-30px);-o-transform:translatex(-30px);transform:translatex(-30px)}100%{opacity:1;-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0)}}@-webkit-keyframes sidebarSlideIn{0%{opacity:0;-webkit-transform:translatex(-100%);transform:translatex(-100%)}100%{opacity:1;-webkit-transform:translatex(0);transform:translatex(0)}}@-moz-keyframes sidebarSlideIn{0%{opacity:0;-moz-transform:translatex(-100%);transform:translatex(-100%)}100%{opacity:1;-moz-transform:translatex(0);transform:translatex(0)}}@-o-keyframes sidebarSlideIn{0%{opacity:0;-o-transform:translatex(-100%);transform:translatex(-100%)}100%{opacity:1;-o-transform:translatex(0);transform:translatex(0)}}@keyframes sidebarSlideIn{0%{opacity:0;-webkit-transform:translatex(-100%);-moz-transform:translatex(-100%);-o-transform:translatex(-100%);transform:translatex(-100%)}100%{opacity:1;-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0)}}@-webkit-keyframes mobileSlideIn{0%{-webkit-transform:translatex(-100%);transform:translatex(-100%)}100%{-webkit-transform:translatex(0);transform:translatex(0)}}@-moz-keyframes mobileSlideIn{0%{-moz-transform:translatex(-100%);transform:translatex(-100%)}100%{-moz-transform:translatex(0);transform:translatex(0)}}@-o-keyframes mobileSlideIn{0%{-o-transform:translatex(-100%);transform:translatex(-100%)}100%{-o-transform:translatex(0);transform:translatex(0)}}@keyframes mobileSlideIn{0%{-webkit-transform:translatex(-100%);-moz-transform:translatex(-100%);-o-transform:translatex(-100%);transform:translatex(-100%)}100%{-webkit-transform:translatex(0);-moz-transform:translatex(0);-o-transform:translatex(0);transform:translatex(0)}}@-webkit-keyframes logoBounce{0%{opacity:0;-webkit-transform:scale(.3)translatey(-20px);transform:scale(.3)translatey(-20px)}50%{-webkit-transform:scale(1.05);transform:scale(1.05)}70%{-webkit-transform:scale(.95);transform:scale(.95)}100%{opacity:1;-webkit-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-moz-keyframes logoBounce{0%{opacity:0;-moz-transform:scale(.3)translatey(-20px);transform:scale(.3)translatey(-20px)}50%{-moz-transform:scale(1.05);transform:scale(1.05)}70%{-moz-transform:scale(.95);transform:scale(.95)}100%{opacity:1;-moz-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-o-keyframes logoBounce{0%{opacity:0;-o-transform:scale(.3)translatey(-20px);transform:scale(.3)translatey(-20px)}50%{-o-transform:scale(1.05);transform:scale(1.05)}70%{-o-transform:scale(.95);transform:scale(.95)}100%{opacity:1;-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@keyframes logoBounce{0%{opacity:0;-webkit-transform:scale(.3)translatey(-20px);-moz-transform:scale(.3)translatey(-20px);-o-transform:scale(.3)translatey(-20px);transform:scale(.3)translatey(-20px)}50%{-webkit-transform:scale(1.05);-moz-transform:scale(1.05);-o-transform:scale(1.05);transform:scale(1.05)}70%{-webkit-transform:scale(.95);-moz-transform:scale(.95);-o-transform:scale(.95);transform:scale(.95)}100%{opacity:1;-webkit-transform:scale(1)translatey(0);-moz-transform:scale(1)translatey(0);-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-webkit-keyframes pulseDot{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1);-webkit-box-shadow:0 0 0 0 rgba(0,186,181,.7);box-shadow:0 0 0 0 rgba(0,186,181,.7)}50%{opacity:.8;-webkit-transform:scale(1.2);transform:scale(1.2);-webkit-box-shadow:0 0 0 4px rgba(0,186,181,0);box-shadow:0 0 0 4px rgba(0,186,181,0)}}@-moz-keyframes pulseDot{0%,100%{opacity:1;-moz-transform:scale(1);transform:scale(1);-moz-box-shadow:0 0 0 0 rgba(0,186,181,.7);box-shadow:0 0 0 0 rgba(0,186,181,.7)}50%{opacity:.8;-moz-transform:scale(1.2);transform:scale(1.2);-moz-box-shadow:0 0 0 4px rgba(0,186,181,0);box-shadow:0 0 0 4px rgba(0,186,181,0)}}@-o-keyframes pulseDot{0%,100%{opacity:1;-o-transform:scale(1);transform:scale(1);box-shadow:0 0 0 0 rgba(0,186,181,.7)}50%{opacity:.8;-o-transform:scale(1.2);transform:scale(1.2);box-shadow:0 0 0 4px rgba(0,186,181,0)}}@keyframes pulseDot{0%,100%{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1);-webkit-box-shadow:0 0 0 0 rgba(0,186,181,.7);-moz-box-shadow:0 0 0 0 rgba(0,186,181,.7);box-shadow:0 0 0 0 rgba(0,186,181,.7)}50%{opacity:.8;-webkit-transform:scale(1.2);-moz-transform:scale(1.2);-o-transform:scale(1.2);transform:scale(1.2);-webkit-box-shadow:0 0 0 4px rgba(0,186,181,0);-moz-box-shadow:0 0 0 4px rgba(0,186,181,0);box-shadow:0 0 0 4px rgba(0,186,181,0)}}@-webkit-keyframes pingSlow{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.7;-webkit-transform:scale(1.3);transform:scale(1.3)}}@-moz-keyframes pingSlow{0%,100%{opacity:1;-moz-transform:scale(1);transform:scale(1)}50%{opacity:.7;-moz-transform:scale(1.3);transform:scale(1.3)}}@-o-keyframes pingSlow{0%,100%{opacity:1;-o-transform:scale(1);transform:scale(1)}50%{opacity:.7;-o-transform:scale(1.3);transform:scale(1.3)}}@keyframes pingSlow{0%,100%{opacity:1;-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1)}50%{opacity:.7;-webkit-transform:scale(1.3);-moz-transform:scale(1.3);-o-transform:scale(1.3);transform:scale(1.3)}}@-webkit-keyframes pulseSlow{0%,100%{opacity:1}50%{opacity:.7}}@-moz-keyframes pulseSlow{0%,100%{opacity:1}50%{opacity:.7}}@-o-keyframes pulseSlow{0%,100%{opacity:1}50%{opacity:.7}}@keyframes pulseSlow{0%,100%{opacity:1}50%{opacity:.7}}@-webkit-keyframes progressFill{0%{width:0;opacity:.5}100%{opacity:1}}@-moz-keyframes progressFill{0%{width:0;opacity:.5}100%{opacity:1}}@-o-keyframes progressFill{0%{width:0;opacity:.5}100%{opacity:1}}@keyframes progressFill{0%{width:0;opacity:.5}100%{opacity:1}}.animate-tile-slide-in-left.jsx-cd84479055f18c30{-webkit-animation:tileSlideInLeft.8s cubic-bezier(.34,1.56,.64,1);-moz-animation:tileSlideInLeft.8s cubic-bezier(.34,1.56,.64,1);-o-animation:tileSlideInLeft.8s cubic-bezier(.34,1.56,.64,1);animation:tileSlideInLeft.8s cubic-bezier(.34,1.56,.64,1)}.animate-tile-slide-in-right.jsx-cd84479055f18c30{-webkit-animation:tileSlideInRight.8s cubic-bezier(.34,1.56,.64,1);-moz-animation:tileSlideInRight.8s cubic-bezier(.34,1.56,.64,1);-o-animation:tileSlideInRight.8s cubic-bezier(.34,1.56,.64,1);animation:tileSlideInRight.8s cubic-bezier(.34,1.56,.64,1)}.animate-number-pop.jsx-cd84479055f18c30{-webkit-animation:numberPop.6s cubic-bezier(.34,1.56,.64,1).2s backwards;-moz-animation:numberPop.6s cubic-bezier(.34,1.56,.64,1).2s backwards;-o-animation:numberPop.6s cubic-bezier(.34,1.56,.64,1).2s backwards;animation:numberPop.6s cubic-bezier(.34,1.56,.64,1).2s backwards}.animate-fade-in-up.jsx-cd84479055f18c30{-webkit-animation:fadeInUp.6s cubic-bezier(.34,1.56,.64,1);-moz-animation:fadeInUp.6s cubic-bezier(.34,1.56,.64,1);-o-animation:fadeInUp.6s cubic-bezier(.34,1.56,.64,1);animation:fadeInUp.6s cubic-bezier(.34,1.56,.64,1)}.animate-fade-in-down.jsx-cd84479055f18c30{-webkit-animation:fadeInDown.6s cubic-bezier(.34,1.56,.64,1);-moz-animation:fadeInDown.6s cubic-bezier(.34,1.56,.64,1);-o-animation:fadeInDown.6s cubic-bezier(.34,1.56,.64,1);animation:fadeInDown.6s cubic-bezier(.34,1.56,.64,1)}.animate-fade-in.jsx-cd84479055f18c30{-webkit-animation:fadeIn.3s ease-out;-moz-animation:fadeIn.3s ease-out;-o-animation:fadeIn.3s ease-out;animation:fadeIn.3s ease-out}.animate-slide-in-left.jsx-cd84479055f18c30{-webkit-animation:slideInLeft.5s cubic-bezier(.34,1.56,.64,1);-moz-animation:slideInLeft.5s cubic-bezier(.34,1.56,.64,1);-o-animation:slideInLeft.5s cubic-bezier(.34,1.56,.64,1);animation:slideInLeft.5s cubic-bezier(.34,1.56,.64,1)}.animate-sidebar-slide-in.jsx-cd84479055f18c30{-webkit-animation:sidebarSlideIn.5s cubic-bezier(.34,1.56,.64,1);-moz-animation:sidebarSlideIn.5s cubic-bezier(.34,1.56,.64,1);-o-animation:sidebarSlideIn.5s cubic-bezier(.34,1.56,.64,1);animation:sidebarSlideIn.5s cubic-bezier(.34,1.56,.64,1)}.animate-mobile-slide-in.jsx-cd84479055f18c30{-webkit-animation:mobileSlideIn.3s cubic-bezier(.34,1.56,.64,1);-moz-animation:mobileSlideIn.3s cubic-bezier(.34,1.56,.64,1);-o-animation:mobileSlideIn.3s cubic-bezier(.34,1.56,.64,1);animation:mobileSlideIn.3s cubic-bezier(.34,1.56,.64,1)}.animate-logo-bounce.jsx-cd84479055f18c30{-webkit-animation:logoBounce.8s cubic-bezier(.34,1.56,.64,1);-moz-animation:logoBounce.8s cubic-bezier(.34,1.56,.64,1);-o-animation:logoBounce.8s cubic-bezier(.34,1.56,.64,1);animation:logoBounce.8s cubic-bezier(.34,1.56,.64,1)}.animate-pulse-dot.jsx-cd84479055f18c30{-webkit-animation:pulseDot 2s cubic-bezier(.4,0,.6,1)infinite;-moz-animation:pulseDot 2s cubic-bezier(.4,0,.6,1)infinite;-o-animation:pulseDot 2s cubic-bezier(.4,0,.6,1)infinite;animation:pulseDot 2s cubic-bezier(.4,0,.6,1)infinite}.animate-ping-slow.jsx-cd84479055f18c30{-webkit-animation:pingSlow 3s cubic-bezier(0,0,.2,1)infinite;-moz-animation:pingSlow 3s cubic-bezier(0,0,.2,1)infinite;-o-animation:pingSlow 3s cubic-bezier(0,0,.2,1)infinite;animation:pingSlow 3s cubic-bezier(0,0,.2,1)infinite}.animate-pulse-slow.jsx-cd84479055f18c30{-webkit-animation:pulseSlow 3s cubic-bezier(.4,0,.6,1)infinite;-moz-animation:pulseSlow 3s cubic-bezier(.4,0,.6,1)infinite;-o-animation:pulseSlow 3s cubic-bezier(.4,0,.6,1)infinite;animation:pulseSlow 3s cubic-bezier(.4,0,.6,1)infinite}.animate-progress-fill.jsx-cd84479055f18c30{-webkit-animation:progressFill 1.5s cubic-bezier(.4,0,.2,1);-moz-animation:progressFill 1.5s cubic-bezier(.4,0,.2,1);-o-animation:progressFill 1.5s cubic-bezier(.4,0,.2,1);animation:progressFill 1.5s cubic-bezier(.4,0,.2,1)}"}),(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 space-y-4",children:[(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 flex flex-col gap-4",children:[(0,s.jsx)("h3",{className:"jsx-cd84479055f18c30 text-base sm:text-lg font-avenir-bold tracking-wide font-semibold text-booking-dark",children:"Request Activity"}),(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 flex space-x-1",children:[(0,s.jsx)("button",{onClick:()=>j("active"),className:"jsx-cd84479055f18c30 "+"px-4 py-2 text-xs sm:text-sm font-avenir font-medium tracking-wide rounded-lg transition-all duration-200 ".concat("active"===w?"text-booking-teal border-b-2 border-booking-teal bg-booking-bg":"text-booking-gray hover:text-booking-dark"),children:"Confirmed"}),(0,s.jsx)("button",{onClick:()=>j("pending"),className:"jsx-cd84479055f18c30 "+"px-4 py-2 text-xs sm:text-sm font-avenir font-medium tracking-wide rounded-lg transition-all duration-200 ".concat("pending"===w?"text-booking-teal border-b-2 border-booking-teal bg-booking-bg":"text-booking-gray hover:text-booking-dark"),children:"Pending"})]})]}),(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 flex flex-col gap-4",children:(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 w-full sm:flex-1 sm:max-w-md",children:[(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 flex flex-col gap-2 sm:gap-4",children:[(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 relative filter-dropdown-container",children:[(0,s.jsxs)("button",{onClick:()=>M(!I),style:{fontSize:"11px"},className:"jsx-cd84479055f18c30 w-full sm:w-28 md:w-32 lg:w-36 px-2 py-1.5 text-xs border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent bg-white flex items-center justify-between gap-1.5 font-avenir font-medium tracking-wide",children:[(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-cd84479055f18c30 w-3.5 h-3.5 text-gray-500 flex-shrink-0",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z",className:"jsx-cd84479055f18c30"})}),(0,s.jsx)("span",{className:"jsx-cd84479055f18c30 flex-1 text-left",children:1===D.size&&D.has("search")?"Search All":1===D.size&&D.has("postcode")?"Postcode":1===D.size&&D.has("startDate")?"Start Date":1===D.size&&D.has("endDate")?"End Date":"".concat(D.size," Filters")}),(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-cd84479055f18c30 w-3 h-3 flex-shrink-0",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7",className:"jsx-cd84479055f18c30"})})]}),I&&(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 absolute top-full left-0 z-10 w-full sm:w-48 bg-white border border-gray-300 rounded-lg shadow-lg mt-1",children:(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 p-2 space-y-1",children:[{value:"search",label:"Search All"},{value:"postcode",label:"Filter by Postcode"},{value:"startDate",label:"Filter by Start Date"},{value:"endDate",label:"Filter by End Date"}].map(e=>(0,s.jsxs)("label",{className:"jsx-cd84479055f18c30 flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[(0,s.jsx)("input",{type:"checkbox",checked:D.has(e.value),onChange:t=>{let a=new Set(D);t.target.checked?a.add(e.value):(a.delete(e.value),F(t=>({...t,[e.value]:""}))),C(a)},className:"jsx-cd84479055f18c30 w-3 h-3 text-booking-teal focus:ring-booking-teal"}),(0,s.jsx)("span",{style:{fontSize:"11px"},className:"jsx-cd84479055f18c30 text-xs font-avenir font-medium tracking-wide",children:e.label})]},e.value))})})]}),(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 flex-1 space-y-2",children:[D.has("search")&&(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 relative",children:[(0,s.jsx)("input",{type:"text",placeholder:"Search requests...",value:L.search,onChange:e=>F(t=>({...t,search:e.target.value})),className:"jsx-cd84479055f18c30 w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent font-avenir font-medium tracking-wide"}),(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-cd84479055f18c30 absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",className:"jsx-cd84479055f18c30"})})]}),D.has("postcode")&&(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 relative",children:[(0,s.jsx)("input",{type:"text",placeholder:"e.g., SW1A 1AA",value:L.postcode,onChange:e=>F(t=>({...t,postcode:e.target.value})),className:"jsx-cd84479055f18c30 w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent font-avenir font-medium tracking-wide"}),(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-cd84479055f18c30 absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z",className:"jsx-cd84479055f18c30"})})]}),D.has("startDate")&&(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 relative",children:[(0,s.jsxs)("button",{type:"button",onClick:e=>{e.stopPropagation(),$("startDate")},className:"jsx-cd84479055f18c30 "+"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent font-avenir font-medium tracking-wide text-left flex items-center justify-between ".concat(L.startDate?"text-booking-dark":"text-gray-400"),children:[(0,s.jsx)("span",{className:"jsx-cd84479055f18c30",children:L.startDate?ee(L.startDate):"Select start date"}),(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-cd84479055f18c30 w-4 h-4 text-booking-teal",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",className:"jsx-cd84479055f18c30"})})]}),"startDate"===Q&&(0,s.jsx)(d.Z,{isOpen:!0,onClose:()=>$(null),onSelect:e=>{F(t=>({...t,startDate:e})),$(null)},initialDate:L.startDate})]}),D.has("endDate")&&(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 relative",children:[(0,s.jsxs)("button",{type:"button",onClick:e=>{e.stopPropagation(),$("endDate")},className:"jsx-cd84479055f18c30 "+"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent font-avenir font-medium tracking-wide text-left flex items-center justify-between ".concat(L.endDate?"text-booking-dark":"text-gray-400"),children:[(0,s.jsx)("span",{className:"jsx-cd84479055f18c30",children:L.endDate?ee(L.endDate):"Select end date"}),(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-cd84479055f18c30 w-4 h-4 text-booking-teal",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z",className:"jsx-cd84479055f18c30"})})]}),"endDate"===Q&&(0,s.jsx)(d.Z,{isOpen:!0,onClose:()=>$(null),onSelect:e=>{F(t=>({...t,endDate:e})),$(null)},initialDate:L.endDate,minDate:L.startDate||void 0,alignRight:!0})]})]})]}),(Object.values(L).some(e=>e)||D.size>1||!D.has("search"))&&(0,s.jsx)("button",{onClick:()=>{C(new Set(["search"])),F({search:"",postcode:"",startDate:"",endDate:""})},className:"jsx-cd84479055f18c30 mt-2 text-xs font-avenir font-medium tracking-wide text-booking-gray hover:text-booking-dark underline",children:"Clear Filter"})]})}),(0,s.jsx)("div",{className:"jsx-cd84479055f18c30",children:(()=>{let e="active"===w?ei:el;if(D.has("search")&&L.search&&(e=e.filter(e=>e.property.title.toLowerCase().includes(L.search.toLowerCase())||e.property.address.toLowerCase().includes(L.search.toLowerCase()))),D.has("postcode")&&L.postcode&&(e=e.filter(e=>e.property.address.toLowerCase().includes(L.postcode.toLowerCase()))),D.has("startDate")&&L.startDate){let t=new Date(L.startDate);e=e.filter(e=>{let a=new Date(e.start_date),s=new Date(t.getFullYear(),t.getMonth(),t.getDate());return new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime()===s.getTime()})}if(D.has("endDate")&&L.endDate){let t=new Date(L.endDate);e=e.filter(e=>{let a=new Date(e.end_date),s=new Date(t.getFullYear(),t.getMonth(),t.getDate());return new Date(a.getFullYear(),a.getMonth(),a.getDate()).getTime()===s.getTime()})}let t=e;return t.length>0?(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 space-y-2",children:t.map(e=>(0,s.jsxs)("div",{onClick:()=>e.booking_request_id&&en(e.booking_request_id,e.id),className:"jsx-cd84479055f18c30 flex items-center justify-between py-3 border-b border-gray-100 hover:bg-gray-50 transition-colors cursor-pointer",children:[(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 flex items-center space-x-4 flex-1 min-w-0",children:[(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 "+"w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ".concat("active"===w?"bg-booking-teal":"bg-yellow-500"),children:(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-cd84479055f18c30 w-5 h-5 text-white",children:"active"===w?(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",className:"jsx-cd84479055f18c30"}):(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",className:"jsx-cd84479055f18c30"})})}),(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 flex-1 min-w-0",children:[(0,s.jsx)("h4",{className:"jsx-cd84479055f18c30 text-xs sm:text-base font-avenir-bold tracking-wide font-semibold text-booking-dark truncate",children:(()=>{let t=e.property.title.split(" | ");return 2===t.length?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"jsx-cd84479055f18c30 font-avenir-bold tracking-wide",children:t[0]}),(0,s.jsxs)("span",{className:"jsx-cd84479055f18c30 font-avenir font-medium tracking-wide",children:[" | ",t[1]]})]}):(0,s.jsx)("span",{className:"jsx-cd84479055f18c30 font-avenir font-medium tracking-wide",children:e.property.title})})()}),(0,s.jsx)("p",{className:"jsx-cd84479055f18c30 text-[10px] sm:text-sm font-avenir font-medium tracking-wide text-booking-gray truncate",children:e.property.address}),(0,s.jsxs)("p",{className:"jsx-cd84479055f18c30 text-[10px] sm:text-sm font-avenir font-medium tracking-wide text-booking-gray truncate",children:[new Date(e.start_date).toLocaleDateString()," - ",new Date(e.end_date).toLocaleDateString()]})]})]}),(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 flex items-center space-x-4 flex-shrink-0",children:[(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 text-right",children:[(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 text-sm font-avenir font-semibold tracking-wide text-booking-dark",children:e.property.price}),(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 text-xs font-avenir font-medium tracking-wide text-booking-gray",children:"per night"}),"confirmed"===e.status&&e.value&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 text-sm font-avenir font-semibold tracking-wide text-green-700 mt-1",children:e.value}),(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 text-xs font-avenir font-medium tracking-wide text-green-600",children:"booking value"})]})]}),(0,s.jsx)("span",{className:"jsx-cd84479055f18c30 "+"px-3 py-1 rounded-full text-xs font-avenir font-medium tracking-wide ".concat("confirmed"===e.status?"bg-green-100 text-green-800":"paid"===e.status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:"confirmed"===e.status?"Confirmed":"paid"===e.status?"Paid":"Pending"})]})]},e.id))}):(0,s.jsxs)("div",{className:"jsx-cd84479055f18c30 text-center py-6",children:[(0,s.jsx)("div",{className:"jsx-cd84479055f18c30 w-10 h-10 bg-booking-bg rounded-full flex items-center justify-center mx-auto mb-3",children:(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-cd84479055f18c30 w-5 h-5 text-booking-gray",children:"active"===w?(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",className:"jsx-cd84479055f18c30"}):(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z",className:"jsx-cd84479055f18c30"})})}),(0,s.jsxs)("h3",{className:"jsx-cd84479055f18c30 text-base font-avenir-bold tracking-wide font-semibold text-booking-dark mb-1",children:["No ","active"===w?"Active":"Pending"," Requests"]}),(0,s.jsx)("p",{className:"jsx-cd84479055f18c30 text-sm font-avenir font-medium tracking-wide text-booking-gray",children:"active"===w?"You don't have any active booking requests at the moment.":"You don't have any pending booking requests at the moment."})]})})()})]})]});case"booking-requests":return(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-avenir-bold tracking-wide font-bold text-booking-dark",children:"Booking Requests"}),(0,s.jsx)("p",{className:"font-avenir font-medium tracking-wide text-booking-gray",children:"Manage your booking requests"})]}),(0,s.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100",children:u.length>0?(0,s.jsx)("div",{className:"p-6",children:u.map(e=>(0,s.jsx)("div",{className:"border-b border-gray-100 last:border-b-0 py-3",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("h3",{className:"text-sm lg:text-base font-avenir font-semibold tracking-wide text-booking-dark whitespace-nowrap lg:whitespace-normal overflow-hidden text-ellipsis",children:e.property.title}),(0,s.jsx)("p",{className:"text-xs lg:text-sm font-avenir font-semibold tracking-wide text-booking-teal mb-0.5",children:e.id}),(0,s.jsx)("p",{className:"text-xs lg:text-sm font-avenir font-medium tracking-wide text-booking-gray mb-0.5",children:e.property.address}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("span",{className:"text-xs lg:text-sm font-avenir font-medium tracking-wide text-booking-gray",children:[new Date(e.start_date).toLocaleDateString()," - ",new Date(e.end_date).toLocaleDateString()]}),(0,s.jsxs)("span",{className:"text-xs lg:text-sm font-avenir font-semibold tracking-wide text-booking-teal",children:[e.property.price||0," per night"]}),"confirmed"===e.status&&e.value&&(0,s.jsxs)("span",{className:"text-xs lg:text-sm font-avenir font-semibold tracking-wide text-green-700 mt-1",children:["Booking Value: ",e.value]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)("span",{className:"px-2 py-1 rounded-full text-xs lg:text-sm font-avenir font-medium tracking-wide ".concat("confirmed"===e.status?"bg-green-100 text-green-800":"paid"===e.status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:"confirmed"===e.status?"Confirmed":"paid"===e.status?"Paid":"Pending"}),(0,s.jsx)("button",{onClick:()=>{J(e.booking_request_id||null),U(!0)},className:"text-booking-teal hover:text-booking-dark text-xs lg:text-sm font-avenir font-medium tracking-wide underline",children:"Edit"})]})]})},e.id))}):(0,s.jsxs)("div",{className:"p-12 text-center",children:[(0,s.jsx)("div",{className:"w-16 h-16 bg-booking-bg rounded-full flex items-center justify-center mx-auto mb-4",children:(0,s.jsx)("svg",{className:"w-8 h-8 text-booking-gray",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,s.jsx)("h3",{className:"text-lg font-avenir-bold tracking-wide font-semibold text-booking-dark mb-2",children:"No Booking Requests"}),(0,s.jsx)("p",{className:"font-avenir font-medium tracking-wide text-booking-gray",children:"You don't have any booking requests."})]})})]});case"contact-info":return(0,s.jsxs)("div",{className:"space-y-4 sm:space-y-6 h-full overflow-hidden",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[(0,s.jsx)("h2",{className:"text-xl sm:text-2xl font-avenir-bold tracking-wide font-bold text-booking-dark",children:"Contact Information"}),(0,s.jsx)("p",{className:"text-sm sm:text-base font-avenir font-medium tracking-wide text-booking-gray",children:"Manage your contact details and preferences"})]}),(0,s.jsx)("div",{className:"bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 lg:p-8 shadow-lg border border-gray-100",children:(0,s.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"text",value:B,placeholder:"Full Name",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base font-avenir font-medium tracking-wide border border-gray-300 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent",readOnly:!0})}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"email",value:(null==e?void 0:e.email)||"",placeholder:"Company Email",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base font-avenir font-medium tracking-wide border border-gray-300 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent",readOnly:!0})}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"tel",value:E.phone,onChange:e=>R(t=>({...t,phone:e.target.value})),placeholder:"Enter phone number",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base font-avenir font-medium tracking-wide border border-gray-300 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent"})}),(0,s.jsx)("div",{children:(0,s.jsx)("input",{type:"text",value:E.company_name,onChange:e=>R(t=>({...t,company_name:e.target.value})),placeholder:"Enter company name",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base font-avenir font-medium tracking-wide border border-gray-300 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent"})}),(0,s.jsx)("div",{children:(0,s.jsx)("textarea",{value:E.company_address,onChange:e=>R(t=>({...t,company_address:e.target.value})),placeholder:"Enter company address",rows:3,className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base font-avenir font-medium tracking-wide border border-gray-300 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent resize-none"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-avenir font-medium tracking-wide text-booking-dark mb-2",children:"Role"}),(0,s.jsxs)("div",{className:"relative role-dropdown-container",children:[(0,s.jsxs)("button",{type:"button",onClick:()=>Z(!G),className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base font-avenir font-medium tracking-wide border border-gray-300 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent bg-white text-left flex items-center justify-between",children:[(0,s.jsx)("span",{children:E.client_type||"Select Role"}),(0,s.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),G&&(0,s.jsx)("div",{className:"relative z-10 w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg max-h-60 overflow-auto",children:["Contractor Company","Insurance Company","Council or Housing Association","Other"].map(e=>(0,s.jsx)("button",{type:"button",onClick:()=>{R(t=>({...t,client_type:e})),Z(!1)},className:"w-full px-4 py-3 text-left text-sm sm:text-base font-avenir font-medium tracking-wide hover:bg-gray-50 transition-colors ".concat(E.client_type===e?"bg-booking-bg text-booking-teal":"text-booking-dark"),children:e},e))})]})]}),q&&(0,s.jsx)("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-lg",children:(0,s.jsx)("p",{className:"text-sm sm:text-base font-avenir font-medium tracking-wide",children:"Your information has been updated successfully!"})}),(0,s.jsx)("div",{className:"pt-3 sm:pt-4",children:(0,s.jsx)("button",{onClick:ea,className:"w-full sm:w-auto bg-booking-teal text-white px-4 sm:px-6 py-2.5 sm:py-3 text-sm sm:text-base font-avenir font-medium tracking-wide rounded-lg sm:rounded-xl hover:bg-opacity-90 transition-all duration-200",children:"Update Information"})})]})})]});default:return null}})()}),O&&W&&(0,s.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50",children:(0,s.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,s.jsxs)("div",{className:"sticky top-0 bg-white px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsx)("img",{src:"/blue-teal.webp",alt:"Logo",className:"h-6 sm:h-10 w-auto object-contain"}),(0,s.jsx)("h2",{className:"text-xl font-avenir-bold font-bold text-booking-dark",children:"Request Details"})]}),(0,s.jsx)("button",{onClick:()=>{H(!1),T(null)},className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsxs)("div",{className:"px-6 py-6 space-y-6",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-avenir-bold font-semibold text-booking-dark border-b pb-2",children:"Client Information"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-base font-avenir tracking-wide text-booking-gray mb-1",children:"Full Name"}),(0,s.jsx)("p",{className:"text-sm font-avenir-regular text-booking-dark",children:W.full_name||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-base font-avenir tracking-wide text-booking-gray mb-1",children:"Email"}),(0,s.jsx)("p",{className:"text-sm font-avenir-regular text-booking-dark",children:W.email||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-base font-avenir tracking-wide text-booking-gray mb-1",children:"Company Name"}),(0,s.jsx)("p",{className:"text-sm font-avenir-regular text-booking-dark",children:W.company_name||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-base font-avenir tracking-wide text-booking-gray mb-1",children:"Status"}),(0,s.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-sm font-avenir-regular font-medium ".concat("confirmed"===W.status?"bg-green-100 text-green-800":"paid"===W.status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:"confirmed"===W.status?"Confirmed":"paid"===W.status?"Paid":"Pending"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-avenir-bold font-semibold text-booking-dark border-b pb-2",children:"Booking Details"}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-base font-avenir tracking-wide text-booking-gray mb-1",children:"Number of People"}),(0,s.jsx)("p",{className:"text-sm font-avenir-regular text-booking-dark",children:W.team_size||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-base font-avenir tracking-wide text-booking-gray mb-1",children:"Nightly Budget (per person)"}),(0,s.jsxs)("p",{className:"text-sm font-avenir-regular text-booking-dark",children:["\xa3",W.budget_per_person_week||"N/A"]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-base font-avenir tracking-wide text-booking-gray mb-1",children:"Project Postcode"}),(0,s.jsx)("p",{className:"text-sm font-avenir-regular text-booking-dark",children:W.project_postcode||"N/A"})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsx)("h3",{className:"text-lg font-avenir-bold font-semibold text-booking-dark border-b pb-2",children:"Booking Dates"}),W.booking_dates&&W.booking_dates.length>0?(0,s.jsx)("div",{className:"space-y-3",children:W.booking_dates.map((e,t)=>(0,s.jsx)("div",{className:"bg-gray-50 rounded-lg p-4",children:(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)("span",{className:"text-base font-avenir tracking-wide text-booking-gray",children:"Period: "}),(0,s.jsxs)("span",{className:"text-sm font-avenir-regular text-booking-dark",children:[new Date(e.start_date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})," - ",new Date(e.end_date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-base font-avenir tracking-wide text-booking-gray",children:"Duration: "}),(0,s.jsxs)("span",{className:"text-sm font-avenir-regular text-booking-dark",children:[Math.ceil((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/864e5)," nights"]})]})]})},e.id))}):(0,s.jsx)("p",{className:"text-sm font-avenir-regular text-booking-gray",children:"No booking dates available"})]})]}),(0,s.jsx)("div",{className:"sticky bottom-0 bg-gray-50 border-t border-gray-200 px-6 py-4 rounded-b-2xl",children:(0,s.jsx)("button",{onClick:()=>{H(!1),T(null)},className:"w-full sm:w-auto px-6 py-3 bg-booking-teal text-white rounded-lg font-avenir-regular font-medium hover:bg-opacity-90 transition-all duration-200",children:"Close"})})]})}),(0,s.jsx)(m,{isOpen:V,onClose:()=>{U(!1),J(null)},editingBookingRequestId:Y,onSuccess:()=>{er()}}),K&&(0,s.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(15, 23, 42, 0.6) 0%, rgba(30, 41, 59, 0.7) 100%)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},className:"jsx-1f2797fbab3799e0 fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,s.jsxs)("div",{style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1)",animation:"modalSlideIn 0.3s cubic-bezier(0.16, 1, 0.3, 1)"},className:"jsx-1f2797fbab3799e0 relative bg-white rounded-3xl max-w-[520px] w-full overflow-hidden",children:[(0,s.jsx)("button",{onClick:()=>X(!1),className:"jsx-1f2797fbab3799e0 absolute top-4 right-4 z-10 w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 hover:bg-gray-200 transition-all duration-200 group",children:(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-1f2797fbab3799e0 w-4 h-4 text-gray-500 group-hover:text-gray-700 transition-colors",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12",className:"jsx-1f2797fbab3799e0"})})}),(0,s.jsxs)("div",{className:"jsx-1f2797fbab3799e0 px-8 pt-6 pb-6 flex flex-col items-center",children:[(0,s.jsx)("div",{style:{background:"linear-gradient(135deg, #FEE2E2 0%, #FECACA 100%)",boxShadow:"0 8px 24px -4px rgba(239, 68, 68, 0.3)"},className:"jsx-1f2797fbab3799e0 relative w-14 h-14 rounded-full flex items-center justify-center mb-4",children:(0,s.jsx)("div",{style:{background:"linear-gradient(135deg, #FCA5A5 0%, #F87171 100%)"},className:"jsx-1f2797fbab3799e0 absolute inset-1.5 rounded-full flex items-center justify-center",children:(0,s.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,className:"jsx-1f2797fbab3799e0 w-5 h-5 text-white",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1",className:"jsx-1f2797fbab3799e0"})})})}),(0,s.jsx)("p",{className:"jsx-1f2797fbab3799e0 text-gray-900 font-avenir-bold font-bold text-lg leading-relaxed text-center mb-5",children:"Are you sure you want to logout from your account?"}),(0,s.jsxs)("div",{className:"jsx-1f2797fbab3799e0 flex gap-3",children:[(0,s.jsx)("button",{onClick:()=>X(!1),className:"jsx-1f2797fbab3799e0 px-6 py-2.5 rounded-xl font-avenir font-semibold text-gray-700 text-sm tracking-wide bg-gray-100 hover:bg-gray-200 transition-all duration-200",children:"Cancel"}),(0,s.jsx)("button",{onClick:eo,style:{background:"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",boxShadow:"0 4px 14px -2px rgba(239, 68, 68, 0.4)"},className:"jsx-1f2797fbab3799e0 px-6 py-2.5 rounded-xl font-avenir font-semibold text-white text-sm tracking-wide transition-all duration-200 hover:shadow-lg hover:-translate-y-0.5 active:translate-y-0",children:"Yes, Logout"})]})]})]}),(0,s.jsx)(r(),{id:"1f2797fbab3799e0",children:"@-webkit-keyframes modalSlideIn{from{opacity:0;-webkit-transform:scale(.95)translatey(10px);transform:scale(.95)translatey(10px)}to{opacity:1;-webkit-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-moz-keyframes modalSlideIn{from{opacity:0;-moz-transform:scale(.95)translatey(10px);transform:scale(.95)translatey(10px)}to{opacity:1;-moz-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-o-keyframes modalSlideIn{from{opacity:0;-o-transform:scale(.95)translatey(10px);transform:scale(.95)translatey(10px)}to{opacity:1;-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@keyframes modalSlideIn{from{opacity:0;-webkit-transform:scale(.95)translatey(10px);-moz-transform:scale(.95)translatey(10px);-o-transform:scale(.95)translatey(10px);transform:scale(.95)translatey(10px)}to{opacity:1;-webkit-transform:scale(1)translatey(0);-moz-transform:scale(1)translatey(0);-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}"})]})]})}},8422:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});var s=a(7437),n=a(2265);function r(e){let{isOpen:t,onClose:a,onSelect:r,initialDate:o="",minDate:i,alignRight:l=!1}=e,[c,d]=(0,n.useState)(new Date),[m,u]=(0,n.useState)(o?x(o):null),f=(0,n.useRef)(null);function x(e){let[t,a,s]=e.split("-").map(Number);return new Date(t,a-1,s)}(0,n.useEffect)(()=>{t&&(o?(u(x(o)),d(x(o))):(u(null),d(new Date)))},[t,o]),(0,n.useEffect)(()=>{let e=e=>{f.current&&!f.current.contains(e.target)&&a()};return t&&requestAnimationFrame(()=>{document.addEventListener("mousedown",e)}),()=>{document.removeEventListener("mousedown",e)}},[t,a]),(0,n.useEffect)(()=>{let e=e=>{"Escape"===e.key&&t&&a()};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},[t,a]);let p=e=>{let t=new Date;if(t.setHours(0,0,0,0),e<t)return!0;if(i){let t=x(i);if(t.setHours(0,0,0,0),e<t)return!0}return!1},h=e=>{p(e)||(u(e),r((e=>{let t=e.getFullYear(),a=String(e.getMonth()+1).padStart(2,"0"),s=String(e.getDate()).padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(s)})(e)),a())},g=(e=>{let t=e.getFullYear(),a=e.getMonth(),s=new Date(t,a,1),n=new Date(t,a+1,0).getDate(),r=s.getDay(),o=[];for(let e=0;e<r;e++)o.push(null);for(let e=1;e<=n;e++)o.push(new Date(t,a,e));return o})(c),b=new Date;return(b.setHours(0,0,0,0),t)?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{ref:f,className:"absolute z-50 top-full mt-1.5 sm:mt-2 bg-[#F6F6F4] rounded-lg sm:rounded-xl shadow-2xl w-[calc(100vw-2.5rem)] max-w-[280px] sm:w-[320px] md:w-[340px] overflow-hidden border border-[#008080]/20 ".concat(l?"right-0 sm:left-0":"left-0"),style:{fontFamily:"var(--font-avenir-regular)"},children:[(0,s.jsxs)("div",{className:"bg-[#0B1D37] text-[#F6F6F4] px-2.5 sm:px-4 py-1.5 sm:py-3 flex items-center justify-between",children:[(0,s.jsx)("h2",{className:"text-[11px] sm:text-base font-bold",style:{fontFamily:"var(--font-avenir-bold)"},children:"Select Date"}),(0,s.jsx)("button",{onClick:a,className:"p-0.5 sm:p-1.5 hover:bg-[#008080]/20 rounded-lg transition-colors duration-200","aria-label":"Close",children:(0,s.jsx)("svg",{className:"w-3 h-3 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,s.jsxs)("div",{className:"p-2 sm:p-4",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1.5 sm:mb-4",children:[(0,s.jsx)("button",{onClick:()=>{d(new Date(c.getFullYear(),c.getMonth()-1,1))},className:"p-0.5 sm:p-2 hover:bg-[#008080]/10 rounded-lg transition-colors duration-200 text-[#0B1D37]","aria-label":"Previous month",children:(0,s.jsx)("svg",{className:"w-3 h-3 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,s.jsxs)("div",{className:"flex items-center gap-1.5 sm:gap-3",children:[(0,s.jsxs)("h3",{className:"text-[10px] sm:text-base font-bold text-[#0B1D37]",style:{fontFamily:"var(--font-avenir-bold)"},children:[["January","February","March","April","May","June","July","August","September","October","November","December"][c.getMonth()]," ",c.getFullYear()]}),(0,s.jsx)("button",{onClick:()=>{d(new Date)},className:"px-1.5 sm:px-3 py-0.5 sm:py-1.5 text-[8px] sm:text-xs bg-[#008080] text-white rounded-md sm:rounded-lg hover:bg-[#006666] transition-colors duration-200 font-medium",children:"Today"})]}),(0,s.jsx)("button",{onClick:()=>{d(new Date(c.getFullYear(),c.getMonth()+1,1))},className:"p-0.5 sm:p-2 hover:bg-[#008080]/10 rounded-lg transition-colors duration-200 text-[#0B1D37]","aria-label":"Next month",children:(0,s.jsx)("svg",{className:"w-3 h-3 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-0.5 sm:gap-1 mb-1 sm:mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,s.jsx)("div",{className:"text-center text-[8px] sm:text-xs font-semibold text-[#4B4E53] py-0.5 sm:py-1.5",style:{fontFamily:"var(--font-avenir)"},children:e},e))}),(0,s.jsx)("div",{className:"grid grid-cols-7 gap-0.5 sm:gap-1",children:g.map((e,t)=>{if(!e)return(0,s.jsx)("div",{className:"aspect-square"},"empty-".concat(t));let a=e.toDateString(),n=a===b.toDateString(),r=p(e),o=m&&a===m.toDateString();return(0,s.jsx)("button",{onClick:()=>h(e),disabled:r,className:"\n                    aspect-square text-[10px] sm:text-xs md:text-sm font-medium rounded sm:rounded-md transition-all duration-200\n                    ".concat(r?"text-gray-300 cursor-not-allowed":o?"bg-[#008080] text-white shadow-md scale-105 z-10":n?"bg-[#008080]/10 text-[#008080] font-bold border border-[#008080]":"text-[#4B4E53] hover:bg-[#008080]/10 hover:text-[#0B1D37]","\n                  "),style:{fontFamily:"var(--font-avenir-regular)"},children:e.getDate()},a)})})]})]})}):null}},7766:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return l},a:function(){return i}});var s=a(7437),n=a(2265),r=a(5526);let o=(0,n.createContext)({user:null,loading:!0,signOut:async()=>{}}),i=()=>{let e=(0,n.useContext)(o);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},l=e=>{let{children:t}=e,[a,i]=(0,n.useState)(null),[l,c]=(0,n.useState)(!0),[d,m]=(0,n.useState)(!1),[u,f]=(0,n.useState)(new Set);(0,n.useEffect)(()=>{let e=!0;(async()=>{try{let{data:{session:t}}=await r.supabase.auth.getSession();e&&((null==t?void 0:t.user)?await x(t.user):i(null),c(!1))}catch(t){console.error("Error getting initial session:",t),e&&(i(null),c(!1))}})();let{data:{subscription:t}}=r.supabase.auth.onAuthStateChange(async(t,s)=>{if(e){if(null==s?void 0:s.user){if(u.has(s.user.id)||d||a&&a.id===s.user.id&&a.role&&("contractor"===a.role||"landlord"===a.role)){c(!1);return}a&&a.id===s.user.id&&a.role||await x(s.user)}else i(null),f(new Set);c(!1)}});return()=>{e=!1,t.unsubscribe()}},[]);let x=async e=>{var t,a,s;if(u.has(e.id)){m(!1),c(!1);return}if(!d){if(e&&e.id&&e.email&&e.role&&"authenticated"!==e.role&&"unauthenticated"!==e.role){i({...e,full_name:(null===(t=e.email)||void 0===t?void 0:t.split("@")[0])||"User",role:e.role}),m(!1),c(!1);return}if(e&&e.id&&e.role&&("contractor"===e.role||"landlord"===e.role)){m(!1),c(!1);return}m(!0),f(t=>new Set(t).add(e.id));try{let t="contractor",s="https://jfgm6v6pkw.us-east-1.awsapprunner.com/api",[n,r]=await Promise.all([fetch("".concat(s,"/partner-login-check"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id})}).then(e=>e.json()).catch(()=>({exists:!1})),fetch("".concat(s,"/client-login-check"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e.id})}).then(e=>e.json()).catch(()=>({exists:!1}))]);n.exists?t="landlord":r.exists?t="contractor":e.email&&e.email.includes("landlord")&&(t="landlord");let o={...e,full_name:(null===(a=e.email)||void 0===a?void 0:a.split("@")[0])||"User",role:t,is_active:!0,email_verified:!!e.email_confirmed_at};i(o),m(!1),c(!1);return}catch(a){console.error("Error fetching user profile:",a);let t=e.email&&e.email.includes("landlord")?"landlord":"contractor";i({...e,full_name:(null===(s=e.email)||void 0===s?void 0:s.split("@")[0])||"User",role:t}),m(!1),c(!1)}finally{m(!1)}}},p=async()=>{await r.supabase.auth.signOut(),i(null),f(new Set)};return(0,s.jsx)(o.Provider,{value:{user:a,loading:l,signOut:p},children:t})}},5526:function(e,t,a){"use strict";a.r(t),a.d(t,{supabase:function(){return s}});let s=(0,a(8439).eI)("https://gtdjjsxtlgzntmuimyai.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd0ZGpqc3h0bGd6bnRtdWlteWFpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc5NzA3MjEsImV4cCI6MjA3MzU0NjcyMX0.OIU7JU8oxYb6LrRuTbRJGhWtcy6gH7_5JlML23D2sWE")}},function(e){e.O(0,[439,971,117,744],function(){return e(e.s=9141)}),_N_E=e.O()}]);