(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[278],{1216:function(e,t,s){Promise.resolve().then(s.bind(s,628))},9376:function(e,t,s){"use strict";var r=s(5475);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},4601:function(){},5523:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"RouterContext",{enumerable:!0,get:function(){return r}});let r=s(7043)._(s(2265)).default.createContext(null)},8975:function(e,t,s){"use strict";var r=s(257);s(4601);var o=s(2265),a=o&&"object"==typeof o&&"default"in o?o:{default:o},n=void 0!==r&&r.env&&!0,l=function(e){return"[object String]"===Object.prototype.toString.call(e)},i=function(){function e(e){var t=void 0===e?{}:e,s=t.name,r=void 0===s?"stylesheet":s,o=t.optimizeForSpeed,a=void 0===o?n:o;d(l(r),"`name` must be a string"),this._name=r,this._deletedRulePlaceholder="#"+r+"-deleted-rule____{}",d("boolean"==typeof a,"`optimizeForSpeed` must be a boolean"),this._optimizeForSpeed=a,this._serverSheet=void 0,this._tags=[],this._injected=!1,this._rulesCount=0;var i="undefined"!=typeof window&&document.querySelector('meta[property="csp-nonce"]');this._nonce=i?i.getAttribute("content"):null}var t=e.prototype;return t.setOptimizeForSpeed=function(e){d("boolean"==typeof e,"`setOptimizeForSpeed` accepts a boolean"),d(0===this._rulesCount,"optimizeForSpeed cannot be when rules have already been inserted"),this.flush(),this._optimizeForSpeed=e,this.inject()},t.isOptimizeForSpeed=function(){return this._optimizeForSpeed},t.inject=function(){var e=this;if(d(!this._injected,"sheet already injected"),this._injected=!0,"undefined"!=typeof window&&this._optimizeForSpeed){this._tags[0]=this.makeStyleTag(this._name),this._optimizeForSpeed="insertRule"in this.getSheet(),this._optimizeForSpeed||(n||console.warn("StyleSheet: optimizeForSpeed mode not supported falling back to standard mode."),this.flush(),this._injected=!0);return}this._serverSheet={cssRules:[],insertRule:function(t,s){return"number"==typeof s?e._serverSheet.cssRules[s]={cssText:t}:e._serverSheet.cssRules.push({cssText:t}),s},deleteRule:function(t){e._serverSheet.cssRules[t]=null}}},t.getSheetForTag=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]},t.getSheet=function(){return this.getSheetForTag(this._tags[this._tags.length-1])},t.insertRule=function(e,t){if(d(l(e),"`insertRule` accepts only strings"),"undefined"==typeof window)return"number"!=typeof t&&(t=this._serverSheet.cssRules.length),this._serverSheet.insertRule(e,t),this._rulesCount++;if(this._optimizeForSpeed){var s=this.getSheet();"number"!=typeof t&&(t=s.cssRules.length);try{s.insertRule(e,t)}catch(t){return n||console.warn("StyleSheet: illegal rule: \n\n"+e+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),-1}}else{var r=this._tags[t];this._tags.push(this.makeStyleTag(this._name,e,r))}return this._rulesCount++},t.replaceRule=function(e,t){if(this._optimizeForSpeed||"undefined"==typeof window){var s="undefined"!=typeof window?this.getSheet():this._serverSheet;if(t.trim()||(t=this._deletedRulePlaceholder),!s.cssRules[e])return e;s.deleteRule(e);try{s.insertRule(t,e)}catch(r){n||console.warn("StyleSheet: illegal rule: \n\n"+t+"\n\nSee https://stackoverflow.com/q/20007992 for more info"),s.insertRule(this._deletedRulePlaceholder,e)}}else{var r=this._tags[e];d(r,"old rule at index `"+e+"` not found"),r.textContent=t}return e},t.deleteRule=function(e){if("undefined"==typeof window){this._serverSheet.deleteRule(e);return}if(this._optimizeForSpeed)this.replaceRule(e,"");else{var t=this._tags[e];d(t,"rule at index `"+e+"` not found"),t.parentNode.removeChild(t),this._tags[e]=null}},t.flush=function(){this._injected=!1,this._rulesCount=0,"undefined"!=typeof window?(this._tags.forEach(function(e){return e&&e.parentNode.removeChild(e)}),this._tags=[]):this._serverSheet.cssRules=[]},t.cssRules=function(){var e=this;return"undefined"==typeof window?this._serverSheet.cssRules:this._tags.reduce(function(t,s){return s?t=t.concat(Array.prototype.map.call(e.getSheetForTag(s).cssRules,function(t){return t.cssText===e._deletedRulePlaceholder?null:t})):t.push(null),t},[])},t.makeStyleTag=function(e,t,s){t&&d(l(t),"makeStyleTag accepts only strings as second parameter");var r=document.createElement("style");this._nonce&&r.setAttribute("nonce",this._nonce),r.type="text/css",r.setAttribute("data-"+e,""),t&&r.appendChild(document.createTextNode(t));var o=document.head||document.getElementsByTagName("head")[0];return s?o.insertBefore(r,s):o.appendChild(r),r},function(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}(e.prototype,[{key:"length",get:function(){return this._rulesCount}}]),e}();function d(e,t){if(!e)throw Error("StyleSheet: "+t+".")}var c=function(e){for(var t=5381,s=e.length;s;)t=33*t^e.charCodeAt(--s);return t>>>0},m={};function x(e,t){if(!t)return"jsx-"+e;var s=String(t),r=e+s;return m[r]||(m[r]="jsx-"+c(e+"-"+s)),m[r]}function u(e,t){"undefined"==typeof window&&(t=t.replace(/\/style/gi,"\\/style"));var s=e+t;return m[s]||(m[s]=t.replace(/__jsx-style-dynamic-selector/g,e)),m[s]}var p=function(){function e(e){var t=void 0===e?{}:e,s=t.styleSheet,r=void 0===s?null:s,o=t.optimizeForSpeed,a=void 0!==o&&o;this._sheet=r||new i({name:"styled-jsx",optimizeForSpeed:a}),this._sheet.inject(),r&&"boolean"==typeof a&&(this._sheet.setOptimizeForSpeed(a),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),this._fromServer=void 0,this._indices={},this._instancesCounts={}}var t=e.prototype;return t.add=function(e){var t=this;void 0===this._optimizeForSpeed&&(this._optimizeForSpeed=Array.isArray(e.children),this._sheet.setOptimizeForSpeed(this._optimizeForSpeed),this._optimizeForSpeed=this._sheet.isOptimizeForSpeed()),"undefined"==typeof window||this._fromServer||(this._fromServer=this.selectFromServer(),this._instancesCounts=Object.keys(this._fromServer).reduce(function(e,t){return e[t]=0,e},{}));var s=this.getIdAndRules(e),r=s.styleId,o=s.rules;if(r in this._instancesCounts){this._instancesCounts[r]+=1;return}var a=o.map(function(e){return t._sheet.insertRule(e)}).filter(function(e){return -1!==e});this._indices[r]=a,this._instancesCounts[r]=1},t.remove=function(e){var t=this,s=this.getIdAndRules(e).styleId;if(function(e,t){if(!e)throw Error("StyleSheetRegistry: "+t+".")}(s in this._instancesCounts,"styleId: `"+s+"` not found"),this._instancesCounts[s]-=1,this._instancesCounts[s]<1){var r=this._fromServer&&this._fromServer[s];r?(r.parentNode.removeChild(r),delete this._fromServer[s]):(this._indices[s].forEach(function(e){return t._sheet.deleteRule(e)}),delete this._indices[s]),delete this._instancesCounts[s]}},t.update=function(e,t){this.add(t),this.remove(e)},t.flush=function(){this._sheet.flush(),this._sheet.inject(),this._fromServer=void 0,this._indices={},this._instancesCounts={}},t.cssRules=function(){var e=this,t=this._fromServer?Object.keys(this._fromServer).map(function(t){return[t,e._fromServer[t]]}):[],s=this._sheet.cssRules();return t.concat(Object.keys(this._indices).map(function(t){return[t,e._indices[t].map(function(e){return s[e].cssText}).join(e._optimizeForSpeed?"":"\n")]}).filter(function(e){return!!e[1]}))},t.styles=function(e){var t,s;return t=this.cssRules(),void 0===(s=e)&&(s={}),t.map(function(e){var t=e[0],r=e[1];return a.default.createElement("style",{id:"__"+t,key:"__"+t,nonce:s.nonce?s.nonce:void 0,dangerouslySetInnerHTML:{__html:r}})})},t.getIdAndRules=function(e){var t=e.children,s=e.dynamic,r=e.id;if(s){var o=x(r,s);return{styleId:o,rules:Array.isArray(t)?t.map(function(e){return u(o,e)}):[u(o,t)]}}return{styleId:x(r),rules:Array.isArray(t)?t:[t]}},t.selectFromServer=function(){return Array.prototype.slice.call(document.querySelectorAll('[id^="__jsx-"]')).reduce(function(e,t){return e[t.id.slice(2)]=t,e},{})},e}(),h=o.createContext(null);h.displayName="StyleSheetContext";var b=a.default.useInsertionEffect||a.default.useLayoutEffect,g="undefined"!=typeof window?new p:void 0;function f(e){var t=g||o.useContext(h);return t&&("undefined"==typeof window?t.add(e):b(function(){return t.add(e),function(){t.remove(e)}},[e.id,String(e.dynamic)])),null}f.dynamic=function(e){return e.map(function(e){return x(e[0],e[1])}).join(" ")},t.style=f},29:function(e,t,s){"use strict";e.exports=s(8975).style},628:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return g}});var r=s(7437),o=s(29),a=s.n(o),n=s(2265),l=s(7766),i=s(9376),d=s(5526),c=s(3145),m=s(9501),x=s(3590),u=s(7119);let p=u.Ry({propertyName:u.Z_().min(1,"Property name is required"),houseAddress:u.Z_().min(5,"House address must be at least 5 characters"),locality:u.Z_().optional(),city:u.Z_().min(1,"City is required"),county:u.Z_().min(1,"County is required"),country:u.Z_().min(1,"Country is required"),postcode:u.Z_().regex(/^[A-Z]{1,2}[0-9][A-Z0-9]? [0-9][A-Z]{2}$/i,"Please enter a valid UK postcode"),propertyType:u.Km(["House","Flat","Apartment","Townhouse","Other"],{required_error:"Please select a property type"}),bedrooms:u.Rx().min(1,"Must have at least 1 bedroom"),beds:u.Rx().min(1,"Must have at least 1 bed"),bedsBreakdown:u.Z_().optional(),bathrooms:u.Rx().min(1,"Must have at least 1 bathroom"),maxOccupancy:u.Rx().min(1,"Must accommodate at least 1 person"),parkingType:u.Km(["Driveway","Off-Street","Secure Bay","On-Street"]).optional(),photos:u.Yj().refine(e=>!!(e&&e instanceof FileList)&&0!==e.length&&e.length>=5,"Minimum 5 photos are required"),workspaceDesk:u.O7(),highSpeedWifi:u.O7(),smartTv:u.O7(),fullyEquippedKitchen:u.O7(),livingDiningSpace:u.O7(),washingMachine:u.O7(),ironIroningBoard:u.O7(),linenTowelsProvided:u.O7(),consumablesProvided:u.O7(),smokeAlarm:u.O7(),coAlarm:u.O7(),fireExtinguisherBlanket:u.O7(),epc:u.O7(),gasSafetyCertificate:u.O7(),eicr:u.O7(),additionalInfo:u.Z_().optional(),vatDetails:u.Z_().optional(),comments:u.Z_().optional(),airbnb:u.Z_().url().optional().or(u.i0("")),paymentMethod:u.Ry({bankName:u.Z_().optional(),accountNumber:u.Z_().optional(),sortCode:u.Z_().optional(),accountHolderName:u.Z_().optional(),preferredPaymentMethod:u.Km(["bank_transfer","paypal","stripe","other"]).optional()}).optional()});function h(e){let{isOpen:t,onClose:s,onSubmit:o}=e,[a,l]=(0,n.useState)(!1),[i,d]=(0,n.useState)(null),[u,h]=(0,n.useState)(null),{register:b,handleSubmit:g,formState:{errors:f},reset:y,watch:v,setValue:j,trigger:k}=(0,m.cI)({resolver:(0,x.F)(p),defaultValues:{workspaceDesk:!1,highSpeedWifi:!1,smartTv:!1,fullyEquippedKitchen:!1,livingDiningSpace:!1,washingMachine:!1,ironIroningBoard:!1,linenTowelsProvided:!1,consumablesProvided:!1,smokeAlarm:!1,coAlarm:!1,fireExtinguisherBlanket:!1,epc:!1,gasSafetyCertificate:!1,eicr:!1}}),w=async e=>{l(!0),d(null);try{let t={...e,photos:u};await o(t),y(),h(null),s()}catch(e){d("Failed to add property. Please try again.")}finally{l(!1)}},N=()=>{y(),d(null),h(null),s()};return t?(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-3 sm:p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-y-auto sm:max-w-6xl max-w-xs max-h-[85vh] sm:max-h-[95vh]",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 sm:p-6 border-b border-gray-200",children:[(0,r.jsx)("div",{className:"py-1",children:(0,r.jsx)(c.default,{src:"/blue-teal.webp",alt:"Booking Hub Logo",width:200,height:50,className:"h-6 sm:h-24 w-auto object-contain",style:{maxWidth:"100%"}})}),(0,r.jsx)("button",{onClick:N,className:"p-1 sm:p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,r.jsx)("svg",{className:"w-4 h-4 sm:w-6 sm:h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("div",{className:"p-4 sm:p-6",children:(0,r.jsxs)("form",{onSubmit:g(w),className:"space-y-3 sm:space-y-8",children:[i&&(0,r.jsx)("div",{className:"rounded-xl bg-red-50 border border-red-200 p-4",children:(0,r.jsx)("div",{className:"text-sm text-red-800",children:i})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm sm:text-xl font-bold text-booking-dark mb-2 sm:mb-6",children:"Basic Details"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"propertyName",className:"block text-xs sm:text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Property Name *"}),(0,r.jsx)("input",{...b("propertyName"),type:"text",className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base ".concat(f.propertyName?"border-red-500":""),placeholder:"e.g., Modern City Apartment"}),f.propertyName&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.propertyName.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"propertyType",className:"block text-xs sm:text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Property Type *"}),(0,r.jsxs)("select",{...b("propertyType"),className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base ".concat(f.propertyType?"border-red-500":""),children:[(0,r.jsx)("option",{value:"",children:"Select property type"}),(0,r.jsx)("option",{value:"House",children:"House"}),(0,r.jsx)("option",{value:"Flat",children:"Flat"}),(0,r.jsx)("option",{value:"Apartment",children:"Apartment"}),(0,r.jsx)("option",{value:"Townhouse",children:"Townhouse"}),(0,r.jsx)("option",{value:"Other",children:"Other"})]}),f.propertyType&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.propertyType.message})]}),(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{htmlFor:"houseAddress",className:"block text-xs sm:text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"House Address *"}),(0,r.jsx)("textarea",{...b("houseAddress"),rows:3,className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base ".concat(f.houseAddress?"border-red-500":""),placeholder:"Enter house address"}),f.houseAddress&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.houseAddress.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"locality",className:"block text-xs sm:text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Locality/District"}),(0,r.jsx)("input",{...b("locality"),type:"text",className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base",placeholder:"e.g., Westminster"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"city",className:"block text-xs sm:text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"City *"}),(0,r.jsx)("input",{...b("city"),type:"text",className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base ".concat(f.city?"border-red-500":""),placeholder:"e.g., London"}),f.city&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.city.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"county",className:"block text-xs sm:text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"County *"}),(0,r.jsx)("input",{...b("county"),type:"text",className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base ".concat(f.county?"border-red-500":""),placeholder:"e.g., Greater London"}),f.county&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.county.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"country",className:"block text-xs sm:text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Country *"}),(0,r.jsx)("input",{...b("country"),type:"text",className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base ".concat(f.country?"border-red-500":""),placeholder:"e.g., United Kingdom"}),f.country&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.country.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"postcode",className:"block text-xs sm:text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Postcode *"}),(0,r.jsx)("input",{...b("postcode"),type:"text",className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base ".concat(f.postcode?"border-red-500":""),placeholder:"e.g., SW1A 1AA"}),f.postcode&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.postcode.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"bedrooms",className:"block text-xs sm:text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Number of Bedrooms *"}),(0,r.jsx)("input",{...b("bedrooms",{valueAsNumber:!0}),type:"number",min:"1",className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base ".concat(f.bedrooms?"border-red-500":""),placeholder:"2"}),f.bedrooms&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.bedrooms.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"beds",className:"block text-xs sm:text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Number of Beds *"}),(0,r.jsx)("input",{...b("beds",{valueAsNumber:!0}),type:"number",min:"1",className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base ".concat(f.beds?"border-red-500":""),placeholder:"2"}),f.beds&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.beds.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"bedsBreakdown",className:"block text-xs sm:text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Beds Breakdown (if multiple types)"}),(0,r.jsx)("input",{...b("bedsBreakdown"),type:"text",className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base",placeholder:"e.g., 1 double, 2 singles"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"bathrooms",className:"block text-xs sm:text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Number of Bathrooms *"}),(0,r.jsx)("input",{...b("bathrooms",{valueAsNumber:!0}),type:"number",min:"1",step:"1",className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base ".concat(f.bathrooms?"border-red-500":""),placeholder:"1"}),f.bathrooms&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.bathrooms.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"maxOccupancy",className:"block text-xs sm:text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Maximum Occupancy *"}),(0,r.jsx)("input",{...b("maxOccupancy",{valueAsNumber:!0}),type:"number",min:"1",className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base ".concat(f.maxOccupancy?"border-red-500":""),placeholder:"4"}),f.maxOccupancy&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.maxOccupancy.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"parkingType",className:"block text-xs sm:text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Parking Type"}),(0,r.jsxs)("select",{...b("parkingType"),className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base",children:[(0,r.jsx)("option",{value:"",children:"Select parking type"}),(0,r.jsx)("option",{value:"Driveway",children:"Driveway"}),(0,r.jsx)("option",{value:"Off-Street",children:"Off-Street"}),(0,r.jsx)("option",{value:"Secure Bay",children:"Secure Bay"}),(0,r.jsx)("option",{value:"On-Street",children:"On-Street"})]})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm sm:text-xl font-bold text-booking-dark mb-2 sm:mb-6",children:"Photos"}),(0,r.jsx)("p",{className:"text-xs sm:text-sm text-booking-gray mb-2 sm:mb-4",children:"Minimum 5 photos required (kitchen, living space, bedrooms, bathrooms, or other key areas). Exterior photos optional but encouraged."}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"photos",className:"block text-xs sm:text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Property Photos (Minimum 5 required) *"}),(0,r.jsx)("input",{type:"file",accept:"image/*",id:"photos",multiple:!0,onChange:e=>{let t=e.target.files;if(t){let s=[...u?Array.from(u):[],...Array.from(t)],r=new DataTransfer;s.forEach(e=>r.items.add(e));let o=r.files;h(o),j("photos",o),k("photos"),e.target.value=""}},className:"hidden"}),(0,r.jsxs)("div",{className:"flex gap-2 sm:gap-3 mb-2 sm:mb-4",children:[(0,r.jsxs)("button",{type:"button",onClick:()=>{document.getElementById("photos").click()},className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-2 sm:py-3 bg-booking-teal text-white rounded-lg hover:bg-opacity-90 transition-all duration-200 font-medium text-xs sm:text-base",children:[(0,r.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Photos"]}),(0,r.jsxs)("button",{type:"button",onClick:()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.capture="environment",e.style.display="none",e.multiple=!0,e.onchange=t=>{let s=t.target.files;if(s){let e=[...u?Array.from(u):[],...Array.from(s)],t=new DataTransfer;e.forEach(e=>t.items.add(e));let r=t.files;h(r),j("photos",r),k("photos");let o=document.getElementById("photos");o&&(o.files=r)}document.body.removeChild(e)},document.body.appendChild(e),e.click()},className:"flex items-center gap-1 sm:gap-2 px-2 sm:px-4 py-2 sm:py-3 bg-gray-100 text-booking-dark rounded-lg hover:bg-gray-200 transition-all duration-200 font-medium text-xs sm:text-base",title:"Take photos with camera",children:[(0,r.jsxs)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 9a2 2 0 012-2h.93a2 2 0 001.664-.89l.812-1.22A2 2 0 0110.07 4h3.86a2 2 0 011.664.89l.812 1.22A2 2 0 0018.07 7H19a2 2 0 012 2v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 13a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Take Photos"]})]}),u&&u.length>0&&(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("p",{className:"text-xs sm:text-sm font-medium text-booking-dark",children:["Selected Photos (",u.length,")"]}),(0,r.jsx)("button",{type:"button",onClick:()=>{h(null),j("photos",null),k("photos")},className:"text-sm text-red-600 hover:text-red-800 transition-colors",children:"Clear All"})]}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3",children:Array.from(u).map((e,t)=>(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsx)("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:(0,r.jsx)("img",{src:URL.createObjectURL(e),alt:"Preview ".concat(t+1),className:"w-full h-full object-cover"})}),(0,r.jsx)("button",{type:"button",onClick:()=>{let e=Array.from(u);e.splice(t,1);let s=new DataTransfer;e.forEach(e=>s.items.add(e));let r=s.files;h(r),j("photos",r),k("photos")},className:"absolute -top-2 -right-2 w-6 h-6 bg-red-500 text-white rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200 hover:bg-red-600",children:(0,r.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},t))})]}),f.photos&&(0,r.jsx)("p",{className:"mt-2 text-sm text-red-600",children:String(f.photos.message||"Invalid photos")})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm sm:text-xl font-bold text-booking-dark mb-2 sm:mb-6",children:"Amenities"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-4",children:[{key:"workspaceDesk",label:"Workspace / Desk"},{key:"highSpeedWifi",label:"High-Speed Wi-Fi"},{key:"smartTv",label:"Smart TV(s)"},{key:"fullyEquippedKitchen",label:"Fully Equipped Kitchen"},{key:"livingDiningSpace",label:"Living/Dining Space"},{key:"washingMachine",label:"Washing Machine"},{key:"ironIroningBoard",label:"Iron & Ironing Board"},{key:"linenTowelsProvided",label:"Linen & Towels Provided"},{key:"consumablesProvided",label:"Consumables Provided"}].map(e=>{let{key:t,label:s}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 sm:p-4 border border-gray-200 rounded-lg",children:[(0,r.jsx)("label",{htmlFor:t,className:"text-xs sm:text-sm font-medium text-booking-dark",children:s}),(0,r.jsx)("input",{...b(t),type:"checkbox",className:"w-5 h-5 text-booking-teal border-gray-300 rounded focus:ring-booking-teal"})]},t)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm sm:text-xl font-bold text-booking-dark mb-2 sm:mb-6",children:"Safety & Compliance"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[{key:"smokeAlarm",label:"Smoke Alarm"},{key:"coAlarm",label:"CO Alarm"},{key:"fireExtinguisherBlanket",label:"Fire Extinguisher / Fire Blanket"},{key:"epc",label:"EPC"},{key:"gasSafetyCertificate",label:"Gas Safety Certificate"},{key:"eicr",label:"EICR"}].map(e=>{let{key:t,label:s}=e;return(0,r.jsxs)("div",{className:"flex items-center justify-between p-2 sm:p-4 border border-gray-200 rounded-lg",children:[(0,r.jsx)("label",{htmlFor:t,className:"text-xs sm:text-sm font-medium text-booking-dark",children:s}),(0,r.jsx)("input",{...b(t),type:"checkbox",className:"w-5 h-5 text-booking-teal border-gray-300 rounded focus:ring-booking-teal"})]},t)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm sm:text-xl font-bold text-booking-dark mb-2 sm:mb-6",children:"Additional Information"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"additionalInfo",className:"block text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Additional Information"}),(0,r.jsx)("textarea",{...b("additionalInfo"),rows:4,className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base",placeholder:"Add any special features, rules, notes, or other information about the property..."})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm sm:text-xl font-bold text-booking-dark mb-2 sm:mb-6",children:"VAT Details"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"vatDetails",className:"block text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"VAT Details"}),(0,r.jsx)("textarea",{...b("vatDetails"),rows:3,className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base",placeholder:"Enter VAT details for this property (VAT number, rate, registration status, etc.)..."})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm sm:text-xl font-bold text-booking-dark mb-2 sm:mb-6",children:"Comments / Notes"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"comments",className:"block text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Property Comments"}),(0,r.jsx)("textarea",{...b("comments"),rows:4,className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base",placeholder:"Add any comments, notes, or special instructions for this property..."})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm sm:text-xl font-bold text-booking-dark mb-2 sm:mb-6",children:"Airbnb Reference"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"airbnb",className:"block text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Airbnb Listing Link (Optional)"}),(0,r.jsx)("input",{...b("airbnb"),type:"url",className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base",placeholder:"https://www.airbnb.co.uk/rooms/..."}),(0,r.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Optional reference to existing Airbnb listing"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm sm:text-xl font-bold text-booking-dark mb-2 sm:mb-6",children:"Payout Information"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"paymentMethod.preferredPaymentMethod",className:"block text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Preferred Payment Method"}),(0,r.jsxs)("select",{...b("paymentMethod.preferredPaymentMethod"),className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base",children:[(0,r.jsx)("option",{value:"",children:"Select payment method"}),(0,r.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"}),(0,r.jsx)("option",{value:"paypal",children:"PayPal"}),(0,r.jsx)("option",{value:"stripe",children:"Stripe"}),(0,r.jsx)("option",{value:"other",children:"Other"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"paymentMethod.bankName",className:"block text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Bank Name"}),(0,r.jsx)("input",{...b("paymentMethod.bankName"),type:"text",className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base",placeholder:"e.g., Barclays, HSBC"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"paymentMethod.accountHolderName",className:"block text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Account Holder Name"}),(0,r.jsx)("input",{...b("paymentMethod.accountHolderName"),type:"text",className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base",placeholder:"Full name on account"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"paymentMethod.sortCode",className:"block text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Sort Code"}),(0,r.jsx)("input",{...b("paymentMethod.sortCode"),type:"text",className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base",placeholder:"12-34-56"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"paymentMethod.accountNumber",className:"block text-xs sm:text-sm font-medium text-booking-dark mb-1 sm:mb-2",children:"Account Number"}),(0,r.jsx)("input",{...b("paymentMethod.accountNumber"),type:"text",className:"w-full px-2 sm:px-4 py-2 sm:py-3 border border-booking-teal rounded focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent text-xs sm:text-base",placeholder:"12345678"})]})]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row gap-2 sm:gap-4 pt-3 sm:pt-6 border-t border-gray-200",children:[(0,r.jsx)("button",{type:"button",onClick:N,className:"flex-1 bg-gray-100 text-booking-dark font-medium py-2 sm:py-3 px-3 sm:px-6 rounded hover:bg-gray-200 transition-all duration-200 text-xs sm:text-base",children:"Cancel"}),(0,r.jsx)("button",{type:"submit",disabled:a,className:"flex-1 bg-booking-teal text-white font-bold py-2 sm:py-3 px-3 sm:px-6 rounded hover:bg-opacity-90 transition-all duration-200 text-xs sm:text-base",children:a?(0,r.jsxs)("div",{className:"flex items-center justify-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white mr-2"}),"Adding Property..."]}):"Add Property"})]})]})})]})}):null}function b(e){let{isOpen:t,onClose:s,property:o,onPropertyUpdate:a}=e,[l,i]=(0,n.useState)(0),[m,x]=(0,n.useState)(!1),[u,p]=(0,n.useState)(null),[h,b]=(0,n.useState)(!1),[g,f]=(0,n.useState)(!1);if(!t||!o)return null;let y=(e,t)=>{u&&p({...u,[e]:t})},v=async()=>{if(u){b(!0);try{console.log("Attempting to update property with data:",{id:u.id,city:u.city,country:u.country,locality:u.locality,county:u.county});let{data:e,error:t}=await d.supabase.from("properties").update({property_name:u.property_name,house_address:u.house_address,locality:u.locality||null,city:u.city||"",county:u.county||null,country:u.country||"",postcode:u.postcode,property_type:u.property_type,bedrooms:u.bedrooms,beds:u.beds,beds_breakdown:u.beds_breakdown,bathrooms:u.bathrooms,max_occupancy:u.max_occupancy,parking_type:u.parking_type,workspace_desk:u.workspace_desk,high_speed_wifi:u.high_speed_wifi,smart_tv:u.smart_tv,fully_equipped_kitchen:u.fully_equipped_kitchen,living_dining_space:u.living_dining_space,washing_machine:u.washing_machine,iron_ironing_board:u.iron_ironing_board,linen_towels_provided:u.linen_towels_provided,consumables_provided:u.consumables_provided,smoke_alarm:u.smoke_alarm,co_alarm:u.co_alarm,fire_extinguisher_blanket:u.fire_extinguisher_blanket,epc:u.epc,gas_safety_certificate:u.gas_safety_certificate,eicr:u.eicr,additional_info:u.additional_info,is_available:u.is_available,updated_at:new Date().toISOString()}).eq("id",u.id).select().single();if(t){console.error("Error updating property:",t),console.error("Error details:",JSON.stringify(t,null,2)),alert("Failed to update property: ".concat(t.message||"Please try again."));return}f(!0),e&&p(e),x(!1),setTimeout(()=>f(!1),3e3),a&&a()}catch(e){console.error("Error updating property:",e),alert("Failed to update property. Please try again.")}finally{b(!1)}}},j=u||o,k=()=>{i(0),x(!1),p(null),f(!1),s()};return(0,r.jsx)("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-3 sm:p-4",children:(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-6xl max-h-[95vh] overflow-y-auto sm:max-w-6xl max-w-xs max-h-[70vh] sm:max-h-[95vh]",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 sm:p-6 border-b border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("div",{className:"py-1",children:(0,r.jsx)(c.default,{src:"/blue-teal.webp",alt:"Booking Hub Logo",width:120,height:30,className:"h-6 sm:h-12 w-auto object-contain",style:{maxWidth:"100%"}})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xs sm:text-xl font-avenir-bold font-bold text-booking-dark",children:j.property_name}),(0,r.jsx)("p",{className:"text-[10px] sm:text-sm font-avenir-regular text-booking-gray",children:j.property_type})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[!m&&(0,r.jsxs)("button",{onClick:()=>{p({...o,city:o.city||"",country:o.country||"",locality:o.locality||"",county:o.county||""}),x(!0)},className:"px-3 sm:px-4 py-1 sm:py-2 bg-booking-teal text-white text-xs sm:text-sm font-avenir-regular font-medium rounded-lg hover:bg-opacity-90 transition-all duration-200 flex items-center space-x-1 sm:space-x-2",children:[(0,r.jsx)("svg",{className:"w-3 h-3 sm:w-4 sm:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),(0,r.jsx)("span",{children:"Edit"})]}),(0,r.jsx)("button",{onClick:k,className:"p-1 sm:p-2 hover:bg-gray-100 rounded-full transition-colors",children:(0,r.jsx)("svg",{className:"w-4 h-4 sm:w-6 sm:h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})]}),(0,r.jsxs)("div",{className:"p-4 sm:p-6 space-y-3 sm:space-y-8",children:[o.photos&&o.photos.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm sm:text-lg font-avenir-bold font-semibold text-booking-dark mb-2 sm:mb-4",children:"Property Photos"}),(0,r.jsxs)("div",{className:"relative max-w-[200px] sm:max-w-md mx-auto",children:[(0,r.jsx)("div",{className:"aspect-square bg-gray-100 rounded-lg overflow-hidden",children:(0,r.jsx)("img",{src:o.photos[l],alt:"Property photo ".concat(l+1),className:"w-full h-full object-cover",onError:e=>{e.currentTarget.style.display="none"}})}),o.photos.length>1&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>i(e=>0===e?o.photos.length-1:e-1),className:"absolute left-1 sm:left-4 top-1/2 transform -translate-y-1/2 w-6 h-6 sm:w-10 sm:h-10 bg-black/50 hover:bg-black/70 text-white rounded-full flex items-center justify-center transition-all duration-200",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),(0,r.jsx)("button",{onClick:()=>i(e=>e===o.photos.length-1?0:e+1),className:"absolute right-1 sm:right-4 top-1/2 transform -translate-y-1/2 w-6 h-6 sm:w-10 sm:h-10 bg-black/50 hover:bg-black/70 text-white rounded-full flex items-center justify-center transition-all duration-200",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),o.photos.length>1&&(0,r.jsxs)("div",{className:"absolute bottom-1 sm:bottom-4 left-1/2 transform -translate-x-1/2 bg-black/50 text-white px-1 sm:px-3 py-0.5 sm:py-1 rounded-full text-[10px] sm:text-sm",children:[l+1," / ",o.photos.length]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm sm:text-lg font-avenir-bold font-semibold text-booking-dark mb-2 sm:mb-4",children:"Basic Details"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 sm:gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs sm:text-xs sm:text-sm font-avenir-bold font-medium text-booking-gray mb-1",children:"Property Name"}),m?(0,r.jsx)("input",{type:"text",value:j.property_name,onChange:e=>y("property_name",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-xs sm:text-base font-avenir-regular focus:outline-none focus:ring-2 focus:ring-booking-teal"}):(0,r.jsx)("p",{className:"text-xs sm:text-base font-avenir-regular text-booking-dark font-medium",children:j.property_name})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs sm:text-xs sm:text-sm font-avenir-bold font-medium text-booking-gray mb-1",children:"Property Type"}),m?(0,r.jsxs)("select",{value:j.property_type,onChange:e=>y("property_type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-xs sm:text-base font-avenir-regular focus:outline-none focus:ring-2 focus:ring-booking-teal",children:[(0,r.jsx)("option",{value:"House",children:"House"}),(0,r.jsx)("option",{value:"Flat",children:"Flat"}),(0,r.jsx)("option",{value:"Apartment",children:"Apartment"}),(0,r.jsx)("option",{value:"Townhouse",children:"Townhouse"}),(0,r.jsx)("option",{value:"Other",children:"Other"})]}):(0,r.jsx)("p",{className:"text-xs sm:text-base font-avenir-regular text-booking-dark font-medium",children:j.property_type})]}),m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-xs sm:text-xs sm:text-sm font-avenir-bold font-medium text-booking-gray mb-1",children:"House Address"}),(0,r.jsx)("textarea",{value:j.house_address,onChange:e=>y("house_address",e.target.value),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-xs sm:text-base font-avenir-regular focus:outline-none focus:ring-2 focus:ring-booking-teal",placeholder:"Enter house address"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs sm:text-xs sm:text-sm font-avenir-bold font-medium text-booking-gray mb-1",children:"Locality/District"}),(0,r.jsx)("input",{type:"text",value:j.locality||"",onChange:e=>y("locality",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-xs sm:text-base font-avenir-regular focus:outline-none focus:ring-2 focus:ring-booking-teal",placeholder:"e.g., Westminster"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs sm:text-xs sm:text-sm font-avenir-bold font-medium text-booking-gray mb-1",children:"City"}),(0,r.jsx)("input",{type:"text",value:j.city,onChange:e=>y("city",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-xs sm:text-base font-avenir-regular focus:outline-none focus:ring-2 focus:ring-booking-teal",placeholder:"e.g., London"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs sm:text-xs sm:text-sm font-avenir-bold font-medium text-booking-gray mb-1",children:"County"}),(0,r.jsx)("input",{type:"text",value:j.county||"",onChange:e=>y("county",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-xs sm:text-base font-avenir-regular focus:outline-none focus:ring-2 focus:ring-booking-teal",placeholder:"e.g., Greater London"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs sm:text-xs sm:text-sm font-avenir-bold font-medium text-booking-gray mb-1",children:"Country"}),(0,r.jsx)("input",{type:"text",value:j.country,onChange:e=>y("country",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-xs sm:text-base font-avenir-regular focus:outline-none focus:ring-2 focus:ring-booking-teal",placeholder:"e.g., United Kingdom"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs sm:text-xs sm:text-sm font-avenir-bold font-medium text-booking-gray mb-1",children:"Postcode"}),(0,r.jsx)("input",{type:"text",value:j.postcode,onChange:e=>y("postcode",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-xs sm:text-base font-avenir-regular focus:outline-none focus:ring-2 focus:ring-booking-teal",placeholder:"e.g., SW1A 1AA"})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"md:col-span-2",children:[(0,r.jsx)("label",{className:"block text-xs sm:text-xs sm:text-sm font-avenir-bold font-medium text-booking-gray mb-1",children:"Full Address"}),(0,r.jsx)("p",{className:"text-xs sm:text-base font-avenir-regular text-booking-dark font-medium",children:[j.house_address,j.locality,j.city,j.county,j.country].filter(e=>e&&""!==e.trim()).join(", ")})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs sm:text-xs sm:text-sm font-avenir-bold font-medium text-booking-gray mb-1",children:"Postcode"}),(0,r.jsx)("p",{className:"text-xs sm:text-base font-avenir-regular text-booking-dark font-medium",children:j.postcode})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs sm:text-xs sm:text-sm font-avenir-bold font-medium text-booking-gray mb-1",children:"Parking Type"}),m?(0,r.jsxs)("select",{value:j.parking_type||"",onChange:e=>y("parking_type",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-xs sm:text-base font-avenir-regular focus:outline-none focus:ring-2 focus:ring-booking-teal",children:[(0,r.jsx)("option",{value:"",children:"Select parking type"}),(0,r.jsx)("option",{value:"Driveway",children:"Driveway"}),(0,r.jsx)("option",{value:"Off-Street",children:"Off-Street"}),(0,r.jsx)("option",{value:"Secure Bay",children:"Secure Bay"}),(0,r.jsx)("option",{value:"On-Street",children:"On-Street"})]}):(0,r.jsx)("p",{className:"text-xs sm:text-base font-avenir-regular text-booking-dark font-medium",children:j.parking_type||"Not specified"})]})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm sm:text-lg font-avenir-bold font-semibold text-booking-dark mb-2 sm:mb-4",children:"Property Specifications"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 sm:gap-6",children:[(0,r.jsxs)("div",{className:"text-center p-2 sm:p-4 bg-gray-50 rounded-lg",children:[m?(0,r.jsx)("input",{type:"number",value:j.bedrooms,onChange:e=>y("bedrooms",parseInt(e.target.value)||0),className:"w-full text-center text-lg sm:text-2xl font-avenir-regular font-bold text-booking-teal bg-transparent border-b-2 border-booking-teal focus:outline-none",min:"0"}):(0,r.jsx)("div",{className:"text-lg sm:text-2xl font-avenir-regular font-bold text-booking-teal",children:j.bedrooms}),(0,r.jsx)("div",{className:"text-xs sm:text-sm font-avenir-regular text-booking-gray",children:"Bedrooms"})]}),(0,r.jsxs)("div",{className:"text-center p-2 sm:p-4 bg-gray-50 rounded-lg",children:[m?(0,r.jsx)("input",{type:"number",value:j.beds,onChange:e=>y("beds",parseInt(e.target.value)||0),className:"w-full text-center text-lg sm:text-2xl font-avenir-regular font-bold text-booking-teal bg-transparent border-b-2 border-booking-teal focus:outline-none",min:"0"}):(0,r.jsx)("div",{className:"text-lg sm:text-2xl font-avenir-regular font-bold text-booking-teal",children:j.beds}),(0,r.jsx)("div",{className:"text-xs sm:text-sm font-avenir-regular text-booking-gray",children:"Beds"})]}),(0,r.jsxs)("div",{className:"text-center p-2 sm:p-4 bg-gray-50 rounded-lg",children:[m?(0,r.jsx)("input",{type:"number",value:j.bathrooms,onChange:e=>y("bathrooms",parseInt(e.target.value)||0),className:"w-full text-center text-lg sm:text-2xl font-avenir-regular font-bold text-booking-teal bg-transparent border-b-2 border-booking-teal focus:outline-none",min:"0"}):(0,r.jsx)("div",{className:"text-lg sm:text-2xl font-avenir-regular font-bold text-booking-teal",children:j.bathrooms}),(0,r.jsx)("div",{className:"text-xs sm:text-sm font-avenir-regular text-booking-gray",children:"Bathrooms"})]}),(0,r.jsxs)("div",{className:"text-center p-2 sm:p-4 bg-gray-50 rounded-lg",children:[m?(0,r.jsx)("input",{type:"number",value:j.max_occupancy,onChange:e=>y("max_occupancy",parseInt(e.target.value)||0),className:"w-full text-center text-lg sm:text-2xl font-avenir-regular font-bold text-booking-teal bg-transparent border-b-2 border-booking-teal focus:outline-none",min:"0"}):(0,r.jsx)("div",{className:"text-lg sm:text-2xl font-avenir-regular font-bold text-booking-teal",children:j.max_occupancy}),(0,r.jsx)("div",{className:"text-xs sm:text-sm font-avenir-regular text-booking-gray",children:"Max Occupancy"})]})]}),(j.beds_breakdown||m)&&(0,r.jsxs)("div",{className:"mt-2 sm:mt-4",children:[(0,r.jsx)("label",{className:"block text-xs sm:text-xs sm:text-sm font-avenir-bold font-medium text-booking-gray mb-1",children:"Beds Breakdown"}),m?(0,r.jsx)("input",{type:"text",value:j.beds_breakdown||"",onChange:e=>y("beds_breakdown",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-xs sm:text-base font-avenir-regular focus:outline-none focus:ring-2 focus:ring-booking-teal",placeholder:"e.g., 2 Queen beds, 1 Single bed"}):(0,r.jsx)("p",{className:"text-xs sm:text-base font-avenir-regular text-booking-dark font-medium",children:j.beds_breakdown})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm sm:text-lg font-avenir-bold font-semibold text-booking-dark mb-2 sm:mb-4",children:"Amenities"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3",children:[{key:"workspace_desk",label:"Workspace / Desk"},{key:"high_speed_wifi",label:"High-Speed Wi-Fi"},{key:"smart_tv",label:"Smart TV(s)"},{key:"fully_equipped_kitchen",label:"Fully Equipped Kitchen"},{key:"living_dining_space",label:"Living/Dining Space"},{key:"washing_machine",label:"Washing Machine"},{key:"iron_ironing_board",label:"Iron & Ironing Board"},{key:"linen_towels_provided",label:"Linen & Towels Provided"},{key:"consumables_provided",label:"Consumables Provided"}].map(e=>{let{key:t,label:s}=e;return(0,r.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 p-2 sm:p-3 bg-gray-50 rounded-lg ".concat(m?"cursor-pointer hover:bg-gray-100":""),onClick:()=>m&&y(t,!j[t]),children:[(0,r.jsx)("div",{className:"w-5 h-5 rounded-full flex items-center justify-center ".concat(j[t]?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"),children:j[t]?(0,r.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):(0,r.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,r.jsx)("span",{className:"text-xs sm:text-sm font-avenir-regular font-medium ".concat(j[t]?"text-booking-dark":"text-booking-gray"),children:s})]},t)})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm sm:text-lg font-avenir-bold font-semibold text-booking-dark mb-2 sm:mb-4",children:"Safety & Compliance"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-2 sm:gap-3",children:[{key:"smoke_alarm",label:"Smoke Alarm"},{key:"co_alarm",label:"CO Alarm"},{key:"fire_extinguisher_blanket",label:"Fire Extinguisher / Fire Blanket"},{key:"epc",label:"EPC"},{key:"gas_safety_certificate",label:"Gas Safety Certificate"},{key:"eicr",label:"EICR"}].map(e=>{let{key:t,label:s}=e;return(0,r.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-3 p-2 sm:p-3 bg-gray-50 rounded-lg ".concat(m?"cursor-pointer hover:bg-gray-100":""),onClick:()=>m&&y(t,!j[t]),children:[(0,r.jsx)("div",{className:"w-5 h-5 rounded-full flex items-center justify-center ".concat(j[t]?"bg-green-100 text-green-600":"bg-gray-100 text-gray-400"),children:j[t]?(0,r.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}):(0,r.jsx)("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),(0,r.jsx)("span",{className:"text-xs sm:text-sm font-avenir-regular font-medium ".concat(j[t]?"text-booking-dark":"text-booking-gray"),children:s})]},t)})})]}),(j.additional_info||m)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm sm:text-lg font-avenir-bold font-semibold text-booking-dark mb-2 sm:mb-4",children:"Additional Information"}),(0,r.jsx)("div",{className:"p-3 sm:p-4 bg-gray-50 rounded-lg",children:m?(0,r.jsx)("textarea",{value:j.additional_info||"",onChange:e=>y("additional_info",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-xs sm:text-base font-avenir-regular focus:outline-none focus:ring-2 focus:ring-booking-teal min-h-[100px]",placeholder:"Enter any additional information about the property..."}):(0,r.jsx)("p",{className:"text-xs sm:text-base font-avenir-regular text-booking-dark",children:j.additional_info})})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-sm sm:text-lg font-avenir-bold font-semibold text-booking-dark mb-2 sm:mb-4",children:"Status & Metadata"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 sm:gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs sm:text-sm font-avenir-bold font-medium text-booking-gray mb-1",children:"Status"}),m?(0,r.jsxs)("select",{value:j.is_available?"available":"unavailable",onChange:e=>y("is_available","available"===e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-xs sm:text-base font-avenir-regular focus:outline-none focus:ring-2 focus:ring-booking-teal",children:[(0,r.jsx)("option",{value:"available",children:"Available"}),(0,r.jsx)("option",{value:"unavailable",children:"Unavailable"})]}):(0,r.jsx)("span",{className:"inline-flex px-3 py-1 rounded-full text-xs sm:text-sm font-avenir-regular font-medium ".concat(j.is_available?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:j.is_available?"Available":"Unavailable"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs sm:text-sm font-avenir-bold font-medium text-booking-gray mb-1",children:"Created"}),(0,r.jsx)("p",{className:"text-xs sm:text-base font-avenir-regular text-booking-dark font-medium",children:new Date(j.created_at).toLocaleDateString()})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-xs sm:text-sm font-avenir-bold font-medium text-booking-gray mb-1",children:"Last Updated"}),(0,r.jsx)("p",{className:"text-xs sm:text-base font-avenir-regular text-booking-dark font-medium",children:new Date(j.updated_at).toLocaleDateString()})]})]})]})]}),(0,r.jsxs)("div",{className:"border-t border-gray-200",children:[g&&(0,r.jsx)("div",{className:"px-6 pt-4",children:(0,r.jsx)("div",{className:"rounded-xl bg-green-50 border border-green-200 p-3 sm:p-4",children:(0,r.jsx)("div",{className:"text-xs sm:text-sm text-green-800",children:"Property details updated successfully"})})}),(0,r.jsx)("div",{className:"flex justify-end space-x-3 p-6",children:m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("button",{onClick:()=>{x(!1),p(null),f(!1)},disabled:h,className:"px-6 py-3 bg-gray-200 text-gray-700 font-avenir-regular font-medium rounded-lg hover:bg-gray-300 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:"Cancel"}),(0,r.jsx)("button",{onClick:v,disabled:h,className:"px-6 py-3 bg-booking-teal text-white font-avenir-regular font-medium rounded-lg hover:bg-opacity-90 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed flex items-center space-x-2",children:h?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,r.jsx)("span",{children:"Saving..."})]}):(0,r.jsx)("span",{children:"Save Changes"})})]}):(0,r.jsx)("button",{onClick:k,className:"px-6 py-3 bg-booking-teal text-white font-avenir-regular font-medium rounded-lg hover:bg-opacity-90 transition-all duration-200",children:"Close"})})]})]})})}function g(){let{user:e,loading:t,signOut:s}=(0,l.a)(),o=(0,i.useRouter)(),[c,m]=(0,n.useState)([]),[x,u]=(0,n.useState)([]),[p,g]=(0,n.useState)(!0),[f,y]=(0,n.useState)("dashboard"),[v,j]=(0,n.useState)(""),[k,w]=(0,n.useState)(!1),[N,_]=(0,n.useState)(!1),[S,C]=(0,n.useState)(null),[L,A]=(0,n.useState)("listed"),[M,B]=(0,n.useState)("listed"),[P,F]=(0,n.useState)(""),[E,z]=(0,n.useState)(new Set(["search"])),[O,T]=(0,n.useState)({search:"",postcode:"",property_type:""}),[I,R]=(0,n.useState)(!1),[W,D]=(0,n.useState)(!1),[H,q]=(0,n.useState)(null),[V,Z]=(0,n.useState)(!1),[U,K]=(0,n.useState)(!1),[G,J]=(0,n.useState)(null),[Y,X]=(0,n.useState)({company_name:"",company_email:"",company_address:"",phone:""}),[Q,$]=(0,n.useState)(""),[ee,et]=(0,n.useState)(!1),[es,er]=(0,n.useState)(!1),[eo,ea]=(0,n.useState)(null),[en,el]=(0,n.useState)(!1),[ei,ed]=(0,n.useState)([]),[ec,em]=(0,n.useState)(!1);(0,n.useEffect)(()=>{},[e,t,o]),(0,n.useEffect)(()=>{e?ex():g(!1)},[e]),(0,n.useEffect)(()=>{"contact-info"===f&&e&&!ee&&(eb(),et(!0)),"contact-info"!==f&&et(!1)},[f,e,ee]),(0,n.useEffect)(()=>{(null==e?void 0:e.full_name)&&!Q&&$(e.full_name)},[null==e?void 0:e.full_name,Q]),(0,n.useEffect)(()=>{let e=e=>{H&&!e.target.closest(".relative")&&q(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[H]),(0,n.useEffect)(()=>{let e=e=>{I&&!e.target.closest(".filter-dropdown-container")&&R(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[I]);let ex=async()=>{try{g(!0);let{data:t,error:s}=await d.supabase.from("landlord").select("id, full_name").eq("id",null==e?void 0:e.id).single();if(s){console.error("Error fetching partner profile:",s),g(!1);return}(null==t?void 0:t.full_name)&&j(t.full_name);let{data:r,error:o}=await d.supabase.from("properties").select("*").eq("landlord_id",t.id).order("created_at",{ascending:!1});o?console.error("Error fetching properties:",o):m(r||[]),u([])}catch(e){console.error("Error fetching data:",e)}finally{g(!1)}},eu=async()=>{e&&await s(),o.push("/")},ep=async e=>{try{let{error:t}=await d.supabase.from("properties").delete().eq("id",e);t?console.error("Error deleting property:",t):m(c.filter(t=>t.id!==e))}catch(e){console.error("Error deleting property:",e)}},eh=async(e,t)=>{try{let s="active"===t?"inactive":"active",{error:r}=await d.supabase.from("properties").update({activity:s}).eq("id",e);r?console.error("Error updating property status:",r):m(c.map(t=>t.id===e?{...t,activity:s}:t))}catch(e){console.error("Error updating property status:",e)}},eb=async()=>{if(null==e?void 0:e.id)try{let{data:t,error:s}=await d.supabase.from("landlord").select("full_name, company_name, company_email, company_address, phone").eq("id",e.id).single();s?console.error("Error fetching partner data:",s):t?($(t.full_name||(null==e?void 0:e.full_name)||""),X({company_name:t.company_name||"",company_email:t.company_email||"",company_address:t.company_address||"",phone:t.phone||""})):($((null==e?void 0:e.full_name)||""),X({company_name:"",company_email:"",company_address:"",phone:""}))}catch(e){console.error("Error fetching partner data:",e)}},eg=async()=>{if(null==e?void 0:e.id){er(!1),ea(null);try{let t;let{data:s,error:r}=await d.supabase.from("landlord").select("id").eq("id",e.id).single();(t=s?await d.supabase.from("landlord").update({company_name:Y.company_name,company_email:Y.company_email,company_address:Y.company_address,phone:Y.phone}).eq("id",e.id):await d.supabase.from("landlord").insert({id:e.id,email:e.email||"",full_name:Q||e.full_name||"",role:"landlord",company_name:Y.company_name,company_email:Y.company_email,company_address:Y.company_address,phone:Y.phone})).error?(console.error("Error updating partner data:",t.error),ea("Failed to update information: ".concat(t.error.message))):(er(!0),setTimeout(()=>er(!1),3e3))}catch(e){console.error("Error updating partner data:",e),ea("An unexpected error occurred while updating your information.")}}},ef=e=>{C(e),_(!0)},ey=async()=>{if(null==e?void 0:e.id)try{em(!0);let{data:t,error:s}=await d.supabase.from("landlord").select("id").eq("id",e.id).single();if(s){console.error("Error fetching landlord profile:",s),ed([]);return}let{data:r,error:o}=await d.supabase.from("booked_properties").select("\n          *,\n          value,\n          properties (\n            id,\n            property_name,\n            house_address,\n            locality,\n            city,\n            county,\n            postcode,\n            country\n          ),\n          booking_requests (\n            city\n          )\n        ").eq("landlord_id",t.id).in("status",["active","completed"]).order("created_at",{ascending:!1});o?(console.error("Error fetching confirmed bookings:",o),ed([])):ed(r||[])}catch(e){console.error("Error fetching confirmed bookings:",e),ed([])}finally{em(!1)}},ev=async()=>{await ey(),el(!0)},ej=()=>{el(!1)},ek=async t=>{try{let s=[];if(t.photos&&t.photos.length>0)for(let r=0;r<t.photos.length;r++){let o=t.photos[r],a="".concat(null==e?void 0:e.id,"/").concat(Date.now(),"-").concat(r,".").concat(o.name.split(".").pop()),{data:n,error:l}=await d.supabase.storage.from("property-photos").upload(a,o);if(l)console.error("Error uploading photo:",l);else{let{data:{publicUrl:e}}=d.supabase.storage.from("property-photos").getPublicUrl(a);s.push(e)}}let{data:r,error:o}=await d.supabase.from("properties").insert({landlord_id:null==e?void 0:e.id,property_name:t.propertyName,house_address:t.houseAddress,locality:t.locality||null,city:t.city,county:t.county,country:t.country,postcode:t.postcode,property_type:t.propertyType,bedrooms:t.bedrooms,beds:t.beds,beds_breakdown:t.bedsBreakdown||null,bathrooms:t.bathrooms,max_occupancy:t.maxOccupancy,parking_type:t.parkingType||null,photos:s,workspace_desk:t.workspaceDesk,high_speed_wifi:t.highSpeedWifi,smart_tv:t.smartTv,fully_equipped_kitchen:t.fullyEquippedKitchen,living_dining_space:t.livingDiningSpace,washing_machine:t.washingMachine,iron_ironing_board:t.ironIroningBoard,linen_towels_provided:t.linenTowelsProvided,consumables_provided:t.consumablesProvided,smoke_alarm:t.smokeAlarm,co_alarm:t.coAlarm,fire_extinguisher_blanket:t.fireExtinguisherBlanket,epc:t.epc,gas_safety_certificate:t.gasSafetyCertificate,eicr:t.eicr,additional_info:t.additionalInfo||null,weekly_rate:null,monthly_rate:null,bills_included:!1,is_available:!0,activity:"active"}).select().single();if(o)throw console.error("Error adding property:",o),o;m([r,...c]),y("dashboard")}catch(e){throw console.error("Error adding property:",e),e}};if(t)return(0,r.jsx)("div",{className:"min-h-screen bg-booking-bg",children:(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-booking-teal"})})});let ew=e=>[e.house_address,e.locality,e.city,e.county,e.country].filter(e=>e&&""!==e.trim()).join(", "),eN=e=>e.filter(e=>{if(E.has("search")&&O.search){let t=O.search.toLowerCase();if(!(e.property_name.toLowerCase().includes(t)||e.house_address.toLowerCase().includes(t)||e.postcode.toLowerCase().includes(t)||e.property_type.toLowerCase().includes(t)))return!1}if(E.has("postcode")&&O.postcode){let t=O.postcode.toLowerCase();if(!(e.postcode.toLowerCase().includes(t)||e.house_address.toLowerCase().includes(t)))return!1}return!E.has("property_type")||!O.property_type||e.property_type===O.property_type}),e_=eN(c.filter(e=>"active"===e.activity)),eS=eN(c.filter(e=>"inactive"===e.activity));return x.filter(e=>"pending"===e.status),x.filter(e=>"confirmed"===e.status),(0,r.jsxs)("div",{className:"h-screen bg-gray-50 flex flex-col lg:flex-row overflow-hidden",children:[(0,r.jsxs)("div",{className:"lg:hidden bg-booking-dark text-white p-4 flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("img",{src:"/white-teal.webp",alt:"Booking Hub Logo",className:"h-8 w-auto object-contain py-1",style:{maxWidth:"100%"}}),(0,r.jsx)("div",{children:(0,r.jsx)("p",{className:"text-xl font-avenir tracking-wide font-bold text-white",children:"Partner Portal"})})]}),(0,r.jsx)("button",{onClick:()=>D(!W),className:"p-2 rounded-lg hover:bg-gray-700 transition-colors",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})]}),W&&(0,r.jsxs)("div",{className:"lg:hidden fixed inset-0 z-50",children:[(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50",onClick:()=>D(!1)}),(0,r.jsxs)("div",{className:"fixed top-0 left-0 h-full w-64 bg-booking-dark text-white transform transition-transform duration-300 ease-in-out",children:[(0,r.jsx)("div",{className:"p-4 bg-booking-dark",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-2 py-2",children:[(0,r.jsx)("img",{src:"/white-teal.webp",alt:"Booking Hub Logo",className:"h-12 w-auto object-contain",style:{maxWidth:"100%"}}),(0,r.jsx)("p",{className:"text-lg font-avenir tracking-wide font-bold text-white",children:"Partner Portal"})]}),(0,r.jsx)("button",{onClick:()=>D(!1),className:"p-2 rounded-lg hover:bg-gray-700 transition-colors",children:(0,r.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,r.jsxs)("nav",{className:"p-4 space-y-2 font-avenir tracking-wide",children:[(0,r.jsx)("button",{onClick:()=>{y("dashboard"),D(!1)},className:"w-full text-left px-4 py-3 rounded-xl transition-all duration-200 ".concat("dashboard"===f?"bg-white text-booking-dark":"text-gray-300 hover:bg-gray-700 hover:text-white"),children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v2H8V5z"})]}),(0,r.jsx)("span",{className:"text-sm font-avenir font-medium tracking-wide",children:"Dashboard"}),"dashboard"===f&&(0,r.jsx)("div",{className:"w-1 h-1 bg-booking-teal rounded-full ml-auto"})]})}),(0,r.jsx)("button",{onClick:()=>{y("my-properties"),D(!1)},className:"w-full text-left px-4 py-3 rounded-xl transition-all duration-200 ".concat("my-properties"===f?"bg-white text-booking-dark":"text-gray-300 hover:bg-gray-700 hover:text-white"),children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),(0,r.jsx)("span",{className:"text-sm font-avenir font-medium tracking-wide",children:"My Properties"}),"my-properties"===f&&(0,r.jsx)("div",{className:"w-1 h-1 bg-booking-teal rounded-full ml-auto"})]})}),(0,r.jsx)("button",{onClick:()=>{y("contact-info"),D(!1)},className:"w-full text-left px-4 py-3 rounded-xl transition-all duration-200 ".concat("contact-info"===f?"bg-white text-booking-dark":"text-gray-300 hover:bg-gray-700 hover:text-white"),children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,r.jsx)("span",{className:"text-sm font-avenir font-medium tracking-wide",children:"Contact Information"}),"contact-info"===f&&(0,r.jsx)("div",{className:"w-1 h-1 bg-booking-teal rounded-full ml-auto"})]})})]}),(0,r.jsxs)("div",{className:"p-4 mt-auto",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-booking-teal rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white font-semibold text-sm",children:v?v.charAt(0).toUpperCase():"P"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm font-avenir font-medium tracking-wide text-white",children:v||"Partner"}),(0,r.jsx)("p",{className:"text-xs font-avenir tracking-wide text-gray-300",children:"Partner"})]})]}),(0,r.jsx)("button",{onClick:()=>{Z(!0),D(!1)},className:"w-full px-4 py-3 rounded-xl bg-red-600 text-white hover:bg-red-700 transition-all duration-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,r.jsx)("span",{className:"text-sm font-avenir font-medium tracking-wide",children:"Logout"})]})})]})]})]}),(0,r.jsxs)("div",{className:"hidden lg:flex w-64 bg-booking-dark text-white flex-col h-screen flex-shrink-0 overflow-y-auto",children:[(0,r.jsx)("div",{className:"p-6 bg-booking-dark",children:(0,r.jsxs)("div",{className:"flex flex-col items-center space-y-2 py-2",children:[(0,r.jsx)("img",{src:"/white-teal.webp",alt:"Booking Hub Logo",className:"h-12 w-auto object-contain",style:{maxWidth:"100%"}}),(0,r.jsx)("p",{className:"text-lg font-avenir tracking-wide font-bold text-white",children:"Partner Portal"})]})}),(0,r.jsxs)("nav",{className:"flex-1 p-4 space-y-2 font-avenir tracking-wide",children:[(0,r.jsx)("button",{onClick:()=>y("dashboard"),className:"w-full text-left px-4 py-3 rounded-xl transition-all duration-200 ".concat("dashboard"===f?"bg-white text-booking-dark":"text-gray-300 hover:bg-gray-700 hover:text-white"),children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2H5a2 2 0 00-2-2z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5a2 2 0 012-2h4a2 2 0 012 2v2H8V5z"})]}),(0,r.jsx)("span",{className:"text-sm lg:text-base font-medium",children:"Dashboard"}),"dashboard"===f&&(0,r.jsx)("div",{className:"w-1 h-1 bg-booking-teal rounded-full ml-auto"})]})}),(0,r.jsx)("button",{onClick:()=>y("my-properties"),className:"w-full text-left px-4 py-3 rounded-xl transition-all duration-200 ".concat("my-properties"===f?"bg-white text-booking-dark":"text-gray-300 hover:bg-gray-700 hover:text-white"),children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),(0,r.jsx)("span",{className:"text-sm lg:text-base font-medium",children:"My Properties"}),"my-properties"===f&&(0,r.jsx)("div",{className:"w-1 h-1 bg-booking-teal rounded-full ml-auto"})]})}),(0,r.jsx)("button",{onClick:()=>y("contact-info"),className:"w-full text-left px-4 py-3 rounded-xl transition-all duration-200 ".concat("contact-info"===f?"bg-white text-booking-dark":"text-gray-300 hover:bg-gray-700 hover:text-white"),children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),(0,r.jsx)("span",{className:"text-sm lg:text-base font-medium",children:"Contact Information"}),"contact-info"===f&&(0,r.jsx)("div",{className:"w-1 h-1 bg-booking-teal rounded-full ml-auto"})]})})]}),(0,r.jsxs)("div",{className:"p-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-booking-teal rounded-full flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-white font-semibold text-sm",children:v?v.charAt(0).toUpperCase():"P"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm lg:text-base font-avenir font-medium tracking-wide text-white",children:v||"Partner"}),(0,r.jsx)("p",{className:"text-xs lg:text-sm font-avenir tracking-wide text-gray-300",children:"Partner"})]})]}),(0,r.jsx)("button",{onClick:()=>Z(!0),className:"w-full px-4 py-3 rounded-xl bg-red-600 text-white hover:bg-red-700 transition-all duration-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-center space-x-3",children:[(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),(0,r.jsx)("span",{className:"text-sm lg:text-base font-avenir font-medium tracking-wide",children:"Logout"})]})})]})]}),(0,r.jsx)("div",{className:"flex-1 p-4 lg:p-8 overflow-y-auto overflow-x-hidden",children:(()=>{if(en)return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsxs)("button",{onClick:ej,className:"flex items-center text-booking-teal hover:text-booking-dark transition-colors duration-200",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),(0,r.jsx)("span",{className:"text-sm font-medium",children:"Back to Dashboard"})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl sm:text-2xl font-bold text-booking-dark mb-2",children:"Confirmed Bookings"}),(0,r.jsx)("p",{className:"text-sm sm:text-base text-booking-gray",children:"View all confirmed bookings for your properties"})]}),ec?(0,r.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-booking-teal"})}):ei.length>0?(0,r.jsx)("div",{className:"space-y-4",children:ei.map(e=>{var t,s,o,a,n,l,i,d;return(0,r.jsx)("div",{className:"bg-white border border-booking-teal sm:border-2 rounded-lg sm:rounded-xl p-1 sm:p-2 shadow-sm hover:shadow-md transition-shadow duration-200",children:(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-1 sm:gap-4",children:[(0,r.jsx)("div",{className:"p-1 sm:p-4",children:(0,r.jsxs)("div",{className:"m-1 sm:m-0",children:[(0,r.jsx)("div",{className:"text-[6px] sm:text-xs font-medium text-booking-gray uppercase mb-0.5 sm:mb-2",children:"Property ID"}),(0,r.jsx)("div",{className:"text-[9px] sm:text-2xl font-bold text-booking-dark mb-0.5 sm:mb-1",children:e.property_id||"N/A"}),(0,r.jsx)("div",{className:"text-[6px] sm:text-sm text-booking-gray",children:(null===(t=e.properties)||void 0===t?void 0:t.property_name)||e.property_name||"Property Name N/A"}),(0,r.jsx)("div",{className:"mt-0.5 sm:mt-2 text-[5px] sm:text-xs text-booking-gray",children:[null===(s=e.properties)||void 0===s?void 0:s.house_address,null===(o=e.properties)||void 0===o?void 0:o.locality,null===(a=e.properties)||void 0===a?void 0:a.city,null===(n=e.properties)||void 0===n?void 0:n.county,null===(l=e.properties)||void 0===l?void 0:l.postcode,null===(i=e.properties)||void 0===i?void 0:i.country].filter(Boolean).join(", ")})]})}),(0,r.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-purple-50 rounded-lg sm:rounded-xl p-1 sm:p-4",children:(0,r.jsxs)("div",{className:"m-1 sm:m-0",children:[(0,r.jsx)("div",{className:"text-[6px] sm:text-xs font-medium text-blue-700 uppercase mb-0.5 sm:mb-2",children:"Booking Period"}),(0,r.jsxs)("div",{className:"space-y-0.5 sm:space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-0.5 sm:space-x-2",children:[(0,r.jsx)("div",{className:"bg-green-500 text-white text-[5px] sm:text-xs font-bold w-8 sm:w-auto px-0.5 sm:px-2 py-0.5 sm:py-1 rounded flex items-center justify-center",children:"START"}),(0,r.jsx)("div",{className:"text-[6px] sm:text-lg font-bold text-gray-900",children:e.start_date?new Date(e.start_date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-0.5 sm:space-x-2",children:[(0,r.jsx)("div",{className:"bg-red-500 text-white text-[5px] sm:text-xs font-bold w-8 sm:w-auto px-0.5 sm:px-2 py-0.5 sm:py-1 rounded flex items-center justify-center",children:"END"}),(0,r.jsx)("div",{className:"text-[6px] sm:text-lg font-bold text-gray-900",children:e.end_date?new Date(e.end_date).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}):"N/A"})]}),e.start_date&&e.end_date&&(0,r.jsxs)("div",{className:"mt-0.5 sm:mt-3 text-center",children:[(0,r.jsx)("div",{className:"text-[5px] sm:text-xs font-medium text-gray-600 uppercase mb-0.5 sm:mb-1",children:"Number of Nights"}),(0,r.jsx)("div",{className:"text-[6px] sm:text-lg font-bold text-gray-900",children:Math.round((new Date(e.end_date).getTime()-new Date(e.start_date).getTime())/864e5)})]}),void 0!==e.value&&null!==e.value&&(0,r.jsxs)("div",{className:"mt-0.5 sm:mt-3 text-center",children:[(0,r.jsx)("div",{className:"text-[5px] sm:text-xs font-medium text-gray-600 uppercase mb-0.5 sm:mb-1",children:"Booking value"}),(0,r.jsx)("div",{className:"text-[6px] sm:text-lg font-bold text-gray-900",children:"number"==typeof e.value?"\xa3".concat(e.value.toLocaleString("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})):"\xa3".concat(String(e.value))})]})]})]})}),(0,r.jsx)("div",{className:"p-1 sm:p-4",children:(0,r.jsxs)("div",{className:"m-1 sm:m-0",children:[(0,r.jsx)("div",{className:"text-[6px] sm:text-xs font-medium text-purple-700 uppercase mb-0.5 sm:mb-2",children:"Booking ID"}),(0,r.jsx)("div",{className:"text-[9px] sm:text-2xl font-bold text-booking-dark mb-0.5 sm:mb-2",children:e.booking_id||e.id||"N/A"}),e.project_postcode&&(0,r.jsxs)("div",{className:"text-[6px] sm:text-sm text-booking-gray",children:["Postcode: ",e.project_postcode]}),(null===(d=e.booking_requests)||void 0===d?void 0:d.city)&&(0,r.jsxs)("div",{className:"text-[6px] sm:text-sm text-booking-gray",children:["City: ",e.booking_requests.city]})]})})]})},e.id)})}):(0,r.jsxs)("div",{className:"bg-white rounded-xl lg:rounded-2xl p-8 lg:p-12 text-center shadow-lg border border-gray-100",children:[(0,r.jsx)("div",{className:"w-12 h-12 lg:w-16 lg:h-16 bg-booking-bg rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-6 h-6 lg:w-8 lg:h-8 text-booking-gray",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,r.jsx)("h3",{className:"text-base lg:text-lg font-semibold text-booking-dark mb-2 font-sans",children:"No Confirmed Bookings"}),(0,r.jsx)("p",{className:"text-sm lg:text-base text-booking-gray font-sans",children:"You don't have any confirmed bookings at the moment."})]})]});switch(f){case"dashboard":return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-xl sm:text-2xl font-avenir-bold font-bold text-booking-dark",children:"Analytics"}),(0,r.jsx)("p",{className:"text-sm sm:text-base font-avenir font-medium tracking-wide text-booking-gray",children:"Property listing overview"})]}),(0,r.jsx)("div",{className:"p-1",children:(0,r.jsx)("button",{onClick:ev,className:"px-3 py-2 sm:px-6 sm:py-3 text-xs sm:text-base font-avenir font-medium tracking-wide text-white rounded-lg shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200",style:{background:"linear-gradient(135deg, #00BAB5 0%, #0B1D37 100%)",borderRadius:"0.5rem"},children:"Confirmed Bookings"})})]}),(0,r.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 items-start",children:(0,r.jsx)("button",{onClick:()=>y("add-property"),className:"w-full sm:w-auto text-white px-6 py-3 sm:px-8 sm:py-4 lg:px-10 lg:py-5 rounded-lg transition-all duration-200 font-avenir font-medium tracking-wide font-bold text-base sm:text-lg lg:text-xl shadow-lg hover:shadow-xl transform hover:scale-105 whitespace-nowrap",style:{background:"linear-gradient(to right, #00BAB5, rgba(0, 186, 181, 0.54))"},children:"Add New Property"})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-2 gap-3 sm:gap-4 lg:gap-6 max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"rounded-xl sm:rounded-2xl p-3 sm:p-4 lg:p-6 text-white",style:{background:"linear-gradient(to top, #00BAB5, rgba(0, 186, 181, 0.54))"},children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2 sm:mb-3 lg:mb-4",children:[(0,r.jsx)("h3",{className:"text-sm sm:text-base lg:text-lg font-avenir-bold font-semibold",children:"Listed Properties"}),(0,r.jsx)("div",{className:"w-5 h-5 sm:w-6 sm:h-6 lg:w-8 lg:h-8 bg-white bg-opacity-20 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 lg:w-4 lg:h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,r.jsx)("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold mb-1 sm:mb-2",children:e_.length}),(0,r.jsx)("div",{className:"text-xs sm:text-sm font-avenir font-medium tracking-wide opacity-90 mb-2 sm:mb-3 lg:mb-4",children:"Currently available for booking"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 sm:gap-0 text-xs sm:text-sm font-avenir font-medium tracking-wide",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"}),(0,r.jsxs)("span",{children:["Active: ",e_.length]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)("div",{className:"w-2 h-2 bg-white bg-opacity-60 rounded-full"}),(0,r.jsxs)("span",{children:["Ready: ",e_.length]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl sm:rounded-2xl p-3 sm:p-4 lg:p-6 shadow-lg border border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2 sm:mb-3 lg:mb-4",children:[(0,r.jsx)("h3",{className:"text-sm sm:text-base lg:text-lg font-avenir-bold font-semibold text-booking-dark",children:"Delisted Properties"}),(0,r.jsx)("div",{className:"w-5 h-5 sm:w-6 sm:h-6 lg:w-8 lg:h-8 bg-yellow-100 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-2.5 h-2.5 sm:w-3 sm:h-3 lg:w-4 lg:h-4 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]}),(0,r.jsx)("div",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-booking-dark mb-1 sm:mb-2",children:eS.length}),(0,r.jsx)("div",{className:"text-xs sm:text-sm font-avenir font-medium tracking-wide text-booking-gray mb-2 sm:mb-3 lg:mb-4",children:"Currently unavailable"}),(0,r.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2 sm:mb-3 lg:mb-4",children:(0,r.jsx)("div",{className:"bg-yellow-500 h-2 rounded-full",style:{width:"".concat(Math.min(eS.length/10*100,100),"%")}})}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-1 sm:gap-0 text-xs sm:text-sm font-avenir font-medium tracking-wide text-booking-gray",children:[(0,r.jsxs)("span",{children:["This week: ",eS.length]}),(0,r.jsxs)("span",{children:["+",Math.floor(5*Math.random()),"% from last week"]})]})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,r.jsx)("h3",{className:"text-base sm:text-lg font-avenir-bold font-semibold text-booking-dark",children:"Property Activity"}),(0,r.jsxs)("div",{className:"flex space-x-1",children:[(0,r.jsx)("button",{onClick:()=>B("listed"),className:"px-3 py-1 text-xs sm:text-sm font-avenir font-medium tracking-wide rounded-lg transition-all duration-200 ".concat("listed"===M?"text-booking-teal border-b-2 border-booking-teal bg-booking-bg":"text-booking-gray hover:text-booking-dark"),children:"Listed"}),(0,r.jsx)("button",{onClick:()=>B("delisted"),className:"px-3 py-1 text-xs sm:text-sm font-avenir font-medium tracking-wide rounded-lg transition-all duration-200 ".concat("delisted"===M?"text-booking-teal border-b-2 border-booking-teal bg-booking-bg":"text-booking-gray hover:text-booking-dark"),children:"Delisted"})]})]}),(0,r.jsx)("div",{className:"flex flex-col gap-4",children:(0,r.jsx)("div",{className:"w-full sm:flex-1 sm:max-w-md",children:(0,r.jsxs)("div",{className:"flex flex-col gap-2 sm:gap-4",children:[(0,r.jsxs)("div",{className:"relative filter-dropdown-container",children:[(0,r.jsxs)("button",{onClick:()=>R(!I),className:"w-full sm:w-28 md:w-32 lg:w-36 px-2 py-1.5 text-xs border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent bg-white flex items-center justify-between gap-1.5 font-avenir",style:{fontSize:"11px"},children:[(0,r.jsx)("svg",{className:"w-3.5 h-3.5 text-gray-500 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"})}),(0,r.jsx)("span",{className:"flex-1 text-left",children:1===E.size&&E.has("search")?"Search All":1===E.size&&E.has("postcode")?"Postcode":1===E.size&&E.has("property_type")?"Property Type":"".concat(E.size," Filters")}),(0,r.jsx)("svg",{className:"w-3 h-3 flex-shrink-0",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),I&&(0,r.jsx)("div",{className:"absolute top-full left-0 z-10 w-full sm:w-48 bg-white border border-gray-300 rounded-lg shadow-lg mt-1",children:(0,r.jsx)("div",{className:"p-2 space-y-1",children:[{value:"search",label:"Search All"},{value:"postcode",label:"Filter by Postcode"},{value:"property_type",label:"Filter by Property Type"}].map(e=>(0,r.jsxs)("label",{className:"flex items-center space-x-2 cursor-pointer hover:bg-gray-50 p-1 rounded",children:[(0,r.jsx)("input",{type:"checkbox",checked:E.has(e.value),onChange:t=>{let s=new Set(E);t.target.checked?s.add(e.value):(s.delete(e.value),T(t=>({...t,[e.value]:""}))),z(s)},className:"w-3 h-3 text-booking-teal focus:ring-booking-teal"}),(0,r.jsx)("span",{className:"text-xs font-avenir",style:{fontSize:"11px"},children:e.label})]},e.value))})})]}),(0,r.jsxs)("div",{className:"flex-1 space-y-2",children:[E.has("search")&&(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",placeholder:"Search properties...",value:O.search,onChange:e=>T(t=>({...t,search:e.target.value})),className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent font-avenir"}),(0,r.jsx)("svg",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),E.has("postcode")&&(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("input",{type:"text",placeholder:"e.g., SW1A 1AA",value:O.postcode,onChange:e=>T(t=>({...t,postcode:e.target.value})),className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent font-avenir"}),(0,r.jsxs)("svg",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]})]}),E.has("property_type")&&(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("select",{value:O.property_type,onChange:e=>T(t=>({...t,property_type:e.target.value})),className:"w-full px-4 py-2 pr-10 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent font-avenir",children:[(0,r.jsx)("option",{value:"",children:"Select Property Type"}),(0,r.jsx)("option",{value:"Apartment",children:"Apartment"}),(0,r.jsx)("option",{value:"House",children:"House"}),(0,r.jsx)("option",{value:"Studio",children:"Studio"}),(0,r.jsx)("option",{value:"Townhouse",children:"Townhouse"}),(0,r.jsx)("option",{value:"Condo",children:"Condo"}),(0,r.jsx)("option",{value:"Villa",children:"Villa"})]}),(0,r.jsx)("svg",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]})]})]})})}),(0,r.jsx)("div",{className:"space-y-4",children:("listed"===M?e_:eS).length>0?("listed"===M?e_:eS).map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between py-2 sm:py-3 border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3 sm:space-x-4 flex-1 min-w-0",children:[e.photos&&e.photos.length>0?(0,r.jsx)("img",{src:e.photos[0],alt:e.property_name||"Property photo",className:"w-12 h-12 sm:w-14 sm:h-14 object-cover rounded-lg flex-shrink-0",onError:e=>{e.currentTarget.style.display="none"}}):(0,r.jsx)("div",{className:"w-12 h-12 sm:w-14 sm:h-14 bg-gray-100 rounded-lg flex items-center justify-center flex-shrink-0",children:(0,r.jsx)("svg",{className:"w-5 h-5 sm:w-6 sm:h-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,r.jsx)("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-avenir font-medium rounded flex-shrink-0",children:e.id}),(0,r.jsx)("h4",{className:"text-sm sm:text-base font-avenir font-bold text-booking-dark truncate",children:e.property_name||"".concat(e.property_type," Property")})]}),(0,r.jsx)("p",{className:"text-xs sm:text-sm font-avenir-regular text-booking-gray truncate",children:ew(e)}),(0,r.jsx)("p",{className:"text-xs sm:text-sm font-avenir-regular text-booking-gray truncate",children:e.property_type})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-2 sm:space-x-4 flex-shrink-0",children:[(0,r.jsx)("span",{className:"px-2 sm:px-3 py-1 rounded-full text-xs font-avenir font-medium ".concat("active"===e.activity?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),style:{fontSize:"14px",letterSpacing:"0.5px"},children:"active"===e.activity?"Active":"Inactive"}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("button",{onClick:()=>q(H===e.id?null:e.id),className:"text-booking-gray hover:text-booking-dark p-1",children:(0,r.jsx)("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),H===e.id&&(0,r.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg z-10 border border-gray-200",children:(0,r.jsxs)("div",{className:"py-1",children:[(0,r.jsx)("button",{onClick:()=>{eh(e.id,e.activity||"inactive"),q(null)},className:"block w-full text-left px-4 py-2 text-xs sm:text-base font-avenir text-booking-dark hover:bg-gray-100",style:{fontSize:"14px"},children:"active"===e.activity?"Delist":"List"}),(0,r.jsx)("button",{onClick:()=>{J(e.id),K(!0),q(null)},className:"block w-full text-left px-4 py-2 text-xs sm:text-base font-avenir text-red-600 hover:bg-gray-100",style:{fontSize:"14px"},children:"Delete"})]})})]})]})]},e.id)):(0,r.jsxs)("div",{className:"bg-white rounded-xl lg:rounded-2xl p-8 lg:p-12 text-center shadow-lg border border-gray-100",children:[(0,r.jsx)("div",{className:"w-12 h-12 lg:w-16 lg:h-16 bg-booking-bg rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-6 h-6 lg:w-8 lg:h-8 text-booking-gray",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,r.jsxs)("h3",{className:"text-base lg:text-lg font-avenir font-semibold text-booking-dark mb-2",children:["No ","listed"===M?"Listed":"Delisted"," Properties"]}),(0,r.jsxs)("p",{className:"text-sm lg:text-base font-avenir font-medium tracking-wide text-booking-gray",children:["You don't have any ","listed"===M?"listed":"delisted"," properties at the moment."]})]})})]})]});case"add-property":return(0,r.jsxs)("div",{className:"space-y-4 lg:space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl lg:text-2xl font-semibold text-booking-dark mb-2 font-sans",children:"Add New Property"}),(0,r.jsx)("p",{className:"text-sm lg:text-base text-booking-gray font-sans",children:"Create a new property listing"})]}),(0,r.jsx)("div",{className:"bg-white rounded-xl lg:rounded-2xl p-6 lg:p-8 shadow-lg border border-gray-100",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-12 h-12 lg:w-16 lg:h-16 bg-booking-bg rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-6 h-6 lg:w-8 lg:h-8 text-booking-gray",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})}),(0,r.jsx)("h3",{className:"text-base lg:text-lg font-semibold text-booking-dark mb-2 font-sans",children:"Create Property Listing"}),(0,r.jsx)("p",{className:"text-sm lg:text-base text-booking-gray mb-6 font-sans",children:"Add a new property to start receiving bookings."}),(0,r.jsx)("button",{onClick:()=>w(!0),className:"bg-booking-teal text-white px-6 lg:px-8 py-2.5 lg:py-3 rounded-lg lg:rounded-xl hover:bg-opacity-90 transition-all duration-200 font-medium text-sm lg:text-base font-sans",children:"Add New Property"})]})})]});case"my-properties":return(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl sm:text-2xl font-avenir-bold font-bold text-booking-dark",children:"All My Properties"}),(0,r.jsx)("p",{className:"text-sm sm:text-base font-avenir font-medium tracking-wide text-booking-gray",children:"Manage all your property listings"})]}),c.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 sm:gap-6",children:c.map(e=>(0,r.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 hover:shadow-xl transition-shadow duration-300 cursor-pointer",onClick:()=>ef(e),children:[(0,r.jsxs)("div",{className:"relative h-24 sm:h-48 w-11/12 sm:w-full p-1 sm:p-3 mx-auto sm:mx-0 mt-2 sm:mt-0",children:[e.photos&&e.photos.length>0?(0,r.jsx)("img",{src:e.photos[0],alt:e.property_name||"Property photo",className:"w-full h-full object-cover",onError:e=>{e.currentTarget.style.display="none";let t=e.currentTarget.nextElementSibling;t&&(t.style.display="flex")}}):null,(0,r.jsx)("div",{className:"absolute inset-1 sm:inset-3 bg-gray-100 flex items-center justify-center ".concat(e.photos&&e.photos.length>0?"hidden":"flex"),children:(0,r.jsx)("svg",{className:"w-8 h-8 sm:w-12 sm:h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,r.jsx)("div",{className:"absolute top-1 right-1 sm:top-6 sm:right-6",children:(0,r.jsx)("span",{className:"px-2 py-1 rounded-full text-[10px] lg:text-lg font-avenir font-medium ".concat("active"===e.activity?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),style:{fontSize:"14px",letterSpacing:"0.5px"},children:"active"===e.activity?"Active":"Inactive"})})]}),(0,r.jsxs)("div",{className:"p-3 sm:p-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2 sm:mb-2",children:[(0,r.jsx)("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-[10px] sm:text-xs font-avenir font-medium rounded flex-shrink-0",children:e.id}),(0,r.jsx)("h3",{className:"text-sm sm:text-xl lg:text-lg font-avenir-bold font-bold text-booking-dark line-clamp-1",children:e.property_name})]}),(0,r.jsx)("p",{className:"text-xs sm:text-base lg:text-sm font-avenir-regular text-booking-gray mb-2 sm:mb-3 line-clamp-2",children:ew(e)}),(0,r.jsx)("div",{className:"flex items-center justify-between mb-2 sm:mb-3",children:(0,r.jsx)("span",{className:"text-xs sm:text-base lg:text-sm font-avenir-regular text-booking-gray capitalize",children:e.property_type})}),(0,r.jsxs)("div",{className:"flex items-center justify-between space-x-1 sm:space-x-4 mb-2",children:[(0,r.jsxs)("div",{className:"text-center flex-1",children:[(0,r.jsx)("div",{className:"text-sm sm:text-lg lg:text-xl font-avenir-bold font-bold text-booking-dark",children:e.beds||0}),(0,r.jsx)("div",{className:"text-[10px] sm:text-sm lg:text-xs font-avenir-regular text-booking-gray",children:"Beds"})]}),(0,r.jsxs)("div",{className:"text-center flex-1",children:[(0,r.jsx)("div",{className:"text-sm sm:text-lg lg:text-xl font-avenir-bold font-bold text-booking-dark",children:e.bedrooms||0}),(0,r.jsx)("div",{className:"text-[10px] sm:text-sm lg:text-xs font-avenir-regular text-booking-gray",children:"Bedrooms"})]}),(0,r.jsxs)("div",{className:"text-center flex-1",children:[(0,r.jsx)("div",{className:"text-sm sm:text-lg lg:text-xl font-avenir-bold font-bold text-booking-dark",children:e.bathrooms||0}),(0,r.jsx)("div",{className:"text-[10px] sm:text-sm lg:text-xs font-avenir-regular text-booking-gray",children:"Bathrooms"})]})]})]})]},e.id))}):(0,r.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100",children:(0,r.jsxs)("div",{className:"p-12 text-center",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-booking-bg rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)("svg",{className:"w-8 h-8 text-booking-gray",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,r.jsx)("h3",{className:"text-lg font-semibold text-booking-dark mb-2",children:"No Properties"}),(0,r.jsx)("p",{className:"text-booking-gray",children:"You haven't added any properties yet."})]})})]});case"contact-info":return(0,r.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h2",{className:"text-xl sm:text-2xl font-avenir-bold font-bold text-booking-dark",children:"Contact Information"}),(0,r.jsx)("p",{className:"text-sm sm:text-base font-avenir font-medium tracking-wide text-booking-gray",children:"Manage your contact details and preferences"})]}),(0,r.jsx)("div",{className:"bg-white rounded-xl sm:rounded-2xl p-4 sm:p-6 lg:p-8 shadow-lg border border-gray-100",children:(0,r.jsxs)("div",{className:"space-y-4 sm:space-y-6",children:[(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"text",value:Q,className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base font-avenir-regular border border-gray-300 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent",readOnly:!0})}),(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"email",value:(null==e?void 0:e.email)||"",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base font-avenir-regular border border-gray-300 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent",readOnly:!0})}),(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"tel",value:Y.phone,onChange:e=>X(t=>({...t,phone:e.target.value})),placeholder:"Enter phone number",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base font-avenir-regular border border-gray-300 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent"})}),(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"text",value:Y.company_name,onChange:e=>X(t=>({...t,company_name:e.target.value})),placeholder:"Enter company name",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base font-avenir-regular border border-gray-300 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent"})}),(0,r.jsx)("div",{children:(0,r.jsx)("input",{type:"email",value:Y.company_email,onChange:e=>X(t=>({...t,company_email:e.target.value})),placeholder:"Enter company email",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base font-avenir-regular border border-gray-300 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent"})}),(0,r.jsx)("div",{children:(0,r.jsx)("textarea",{value:Y.company_address,onChange:e=>X(t=>({...t,company_address:e.target.value})),placeholder:"Enter company address",rows:3,className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base font-avenir-regular border border-gray-300 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent resize-none"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-booking-dark mb-2",children:"Role"}),(0,r.jsx)("input",{type:"text",value:"Partner",className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 text-sm sm:text-base font-avenir-regular border border-gray-300 rounded-lg sm:rounded-xl focus:outline-none focus:ring-2 focus:ring-booking-teal focus:border-transparent",readOnly:!0})]}),(0,r.jsx)("div",{className:"pt-3 sm:pt-4",children:(0,r.jsx)("button",{onClick:eg,className:"w-full sm:w-auto bg-booking-teal text-white px-4 sm:px-6 py-2.5 sm:py-3 text-sm sm:text-base font-avenir-regular rounded-lg sm:rounded-xl hover:bg-opacity-90 transition-all duration-200 font-medium",children:"Update Information"})}),es&&(0,r.jsx)("div",{className:"mt-4 rounded-xl bg-green-50 border border-green-200 p-3 sm:p-4",children:(0,r.jsx)("div",{className:"text-xs sm:text-sm font-avenir-regular text-green-800",children:"Information updated successfully"})}),eo&&(0,r.jsx)("div",{className:"mt-4 rounded-xl bg-red-50 border border-red-200 p-3 sm:p-4",children:(0,r.jsx)("div",{className:"text-xs sm:text-sm font-avenir-regular text-red-800",children:eo})})]})})]});default:return null}})()}),(0,r.jsx)(h,{isOpen:k,onClose:()=>w(!1),onSubmit:ek}),(0,r.jsx)(b,{isOpen:N,onClose:()=>{_(!1),C(null)},property:S,onPropertyUpdate:ex}),V&&(0,r.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(15, 23, 42, 0.6) 0%, rgba(30, 41, 59, 0.7) 100%)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},className:"jsx-1f2797fbab3799e0 fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,r.jsxs)("div",{style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1)",animation:"modalSlideIn 0.3s cubic-bezier(0.16, 1, 0.3, 1)"},className:"jsx-1f2797fbab3799e0 relative bg-white rounded-3xl max-w-[520px] w-full overflow-hidden",children:[(0,r.jsx)("button",{onClick:()=>Z(!1),className:"jsx-1f2797fbab3799e0 absolute top-4 right-4 z-10 w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 hover:bg-gray-200 transition-all duration-200 group",children:(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-1f2797fbab3799e0 w-4 h-4 text-gray-500 group-hover:text-gray-700 transition-colors",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12",className:"jsx-1f2797fbab3799e0"})})}),(0,r.jsxs)("div",{className:"jsx-1f2797fbab3799e0 px-8 pt-6 pb-6 flex flex-col items-center",children:[(0,r.jsx)("div",{style:{background:"linear-gradient(135deg, #FEE2E2 0%, #FECACA 100%)",boxShadow:"0 8px 24px -4px rgba(239, 68, 68, 0.3)"},className:"jsx-1f2797fbab3799e0 relative w-14 h-14 rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)("div",{style:{background:"linear-gradient(135deg, #FCA5A5 0%, #F87171 100%)"},className:"jsx-1f2797fbab3799e0 absolute inset-1.5 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,className:"jsx-1f2797fbab3799e0 w-5 h-5 text-white",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1",className:"jsx-1f2797fbab3799e0"})})})}),(0,r.jsx)("p",{className:"jsx-1f2797fbab3799e0 text-gray-900 font-avenir-bold font-bold text-lg leading-relaxed text-center mb-5",children:"Are you sure you want to logout from your account?"}),(0,r.jsxs)("div",{className:"jsx-1f2797fbab3799e0 flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>Z(!1),className:"jsx-1f2797fbab3799e0 px-6 py-2.5 rounded-xl font-avenir font-semibold text-gray-700 text-sm tracking-wide bg-gray-100 hover:bg-gray-200 transition-all duration-200",children:"Cancel"}),(0,r.jsx)("button",{onClick:eu,style:{background:"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",boxShadow:"0 4px 14px -2px rgba(239, 68, 68, 0.4)"},className:"jsx-1f2797fbab3799e0 px-6 py-2.5 rounded-xl font-avenir font-semibold text-white text-sm tracking-wide transition-all duration-200 hover:shadow-lg hover:-translate-y-0.5 active:translate-y-0",children:"Yes, Logout"})]})]})]}),(0,r.jsx)(a(),{id:"1f2797fbab3799e0",children:"@-webkit-keyframes modalSlideIn{from{opacity:0;-webkit-transform:scale(.95)translatey(10px);transform:scale(.95)translatey(10px)}to{opacity:1;-webkit-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-moz-keyframes modalSlideIn{from{opacity:0;-moz-transform:scale(.95)translatey(10px);transform:scale(.95)translatey(10px)}to{opacity:1;-moz-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-o-keyframes modalSlideIn{from{opacity:0;-o-transform:scale(.95)translatey(10px);transform:scale(.95)translatey(10px)}to{opacity:1;-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@keyframes modalSlideIn{from{opacity:0;-webkit-transform:scale(.95)translatey(10px);-moz-transform:scale(.95)translatey(10px);-o-transform:scale(.95)translatey(10px);transform:scale(.95)translatey(10px)}to{opacity:1;-webkit-transform:scale(1)translatey(0);-moz-transform:scale(1)translatey(0);-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}"})]}),U&&(0,r.jsxs)("div",{style:{background:"linear-gradient(135deg, rgba(15, 23, 42, 0.6) 0%, rgba(30, 41, 59, 0.7) 100%)",backdropFilter:"blur(8px)",WebkitBackdropFilter:"blur(8px)"},className:"jsx-1f2797fbab3799e0 fixed inset-0 z-50 flex items-center justify-center p-4",children:[(0,r.jsxs)("div",{style:{boxShadow:"0 25px 50px -12px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.1)",animation:"modalSlideIn 0.3s cubic-bezier(0.16, 1, 0.3, 1)"},className:"jsx-1f2797fbab3799e0 relative bg-white rounded-3xl max-w-[520px] w-full overflow-hidden",children:[(0,r.jsx)("button",{onClick:()=>{K(!1),J(null)},className:"jsx-1f2797fbab3799e0 absolute top-4 right-4 z-10 w-8 h-8 flex items-center justify-center rounded-full bg-gray-100 hover:bg-gray-200 transition-all duration-200 group",children:(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-1f2797fbab3799e0 w-4 h-4 text-gray-500 group-hover:text-gray-700 transition-colors",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2.5,d:"M6 18L18 6M6 6l12 12",className:"jsx-1f2797fbab3799e0"})})}),(0,r.jsxs)("div",{className:"jsx-1f2797fbab3799e0 px-8 pt-6 pb-6 flex flex-col items-center",children:[(0,r.jsx)("div",{style:{background:"linear-gradient(135deg, #FEE2E2 0%, #FECACA 100%)",boxShadow:"0 8px 24px -4px rgba(239, 68, 68, 0.3)"},className:"jsx-1f2797fbab3799e0 relative w-14 h-14 rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)("div",{style:{background:"linear-gradient(135deg, #FCA5A5 0%, #F87171 100%)"},className:"jsx-1f2797fbab3799e0 absolute inset-1.5 rounded-full flex items-center justify-center",children:(0,r.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",strokeWidth:2,className:"jsx-1f2797fbab3799e0 w-5 h-5 text-white",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",className:"jsx-1f2797fbab3799e0"})})})}),(0,r.jsx)("p",{className:"jsx-1f2797fbab3799e0 text-gray-900 font-avenir-bold font-bold text-lg leading-relaxed text-center mb-5",children:"Are you sure you want to delete this property?"}),(0,r.jsxs)("div",{className:"jsx-1f2797fbab3799e0 flex gap-3",children:[(0,r.jsx)("button",{onClick:()=>{K(!1),J(null)},className:"jsx-1f2797fbab3799e0 px-6 py-2.5 rounded-xl font-avenir font-semibold text-gray-700 text-sm tracking-wide bg-gray-100 hover:bg-gray-200 transition-all duration-200",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{G&&(ep(G),K(!1),J(null))},style:{background:"linear-gradient(135deg, #EF4444 0%, #DC2626 100%)",boxShadow:"0 4px 14px -2px rgba(239, 68, 68, 0.4)"},className:"jsx-1f2797fbab3799e0 px-6 py-2.5 rounded-xl font-avenir font-semibold text-white text-sm tracking-wide transition-all duration-200 hover:shadow-lg hover:-translate-y-0.5 active:translate-y-0",children:"Yes, Delete"})]})]})]}),(0,r.jsx)(a(),{id:"1f2797fbab3799e0",children:"@-webkit-keyframes modalSlideIn{from{opacity:0;-webkit-transform:scale(.95)translatey(10px);transform:scale(.95)translatey(10px)}to{opacity:1;-webkit-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-moz-keyframes modalSlideIn{from{opacity:0;-moz-transform:scale(.95)translatey(10px);transform:scale(.95)translatey(10px)}to{opacity:1;-moz-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@-o-keyframes modalSlideIn{from{opacity:0;-o-transform:scale(.95)translatey(10px);transform:scale(.95)translatey(10px)}to{opacity:1;-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}@keyframes modalSlideIn{from{opacity:0;-webkit-transform:scale(.95)translatey(10px);-moz-transform:scale(.95)translatey(10px);-o-transform:scale(.95)translatey(10px);transform:scale(.95)translatey(10px)}to{opacity:1;-webkit-transform:scale(1)translatey(0);-moz-transform:scale(1)translatey(0);-o-transform:scale(1)translatey(0);transform:scale(1)translatey(0)}}"})]})]})}},7766:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return i},a:function(){return l}});var r=s(7437),o=s(2265),a=s(5526);let n=(0,o.createContext)({user:null,loading:!0,signOut:async()=>{}}),l=()=>{let e=(0,o.useContext)(n);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},i=e=>{let{children:t}=e,[s,l]=(0,o.useState)(null),[i,d]=(0,o.useState)(!0),[c,m]=(0,o.useState)(!1),[x,u]=(0,o.useState)(new Set);(0,o.useEffect)(()=>{let e=!0;(async()=>{try{let{data:{session:t}}=await a.supabase.auth.getSession();e&&((null==t?void 0:t.user)?await p(t.user):l(null),d(!1))}catch(t){console.error("Error getting initial session:",t),e&&(l(null),d(!1))}})();let{data:{subscription:t}}=a.supabase.auth.onAuthStateChange(async(t,r)=>{if(e){if(null==r?void 0:r.user){if(x.has(r.user.id)||c||s&&s.id===r.user.id&&s.role&&("contractor"===s.role||"landlord"===s.role)){d(!1);return}s&&s.id===r.user.id&&s.role||await p(r.user)}else l(null),u(new Set);d(!1)}});return()=>{e=!1,t.unsubscribe()}},[]);let p=async e=>{var t,s,r;if(x.has(e.id)){m(!1),d(!1);return}if(!c){if(e&&e.id&&e.email&&e.role&&"authenticated"!==e.role&&"unauthenticated"!==e.role){l({...e,full_name:(null===(t=e.email)||void 0===t?void 0:t.split("@")[0])||"User",role:e.role}),m(!1),d(!1);return}if(e&&e.id&&e.role&&("contractor"===e.role||"landlord"===e.role)){m(!1),d(!1);return}m(!0),u(t=>new Set(t).add(e.id));try{let t="contractor";e.email&&e.email.includes("landlord")&&(t="landlord");let r={...e,full_name:(null===(s=e.email)||void 0===s?void 0:s.split("@")[0])||"User",role:t,is_active:!0,email_verified:!!e.email_confirmed_at};l(r),m(!1),d(!1);return}catch(t){console.error("Error fetching user profile:",t),l({...e,full_name:(null===(r=e.email)||void 0===r?void 0:r.split("@")[0])||"User",role:"contractor"}),m(!1),d(!1)}finally{m(!1)}}},h=async()=>{await a.supabase.auth.signOut(),l(null),u(new Set)};return(0,r.jsx)(n.Provider,{value:{user:s,loading:i,signOut:h},children:t})}},5526:function(e,t,s){"use strict";s.r(t),s.d(t,{supabase:function(){return r}});let r=(0,s(8439).eI)("https://gtdjjsxtlgzntmuimyai.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd0ZGpqc3h0bGd6bnRtdWlteWFpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc5NzA3MjEsImV4cCI6MjA3MzU0NjcyMX0.OIU7JU8oxYb6LrRuTbRJGhWtcy6gH7_5JlML23D2sWE")}},function(e){e.O(0,[439,145,626,971,117,744],function(){return e(e.s=1216)}),_N_E=e.O()}]);